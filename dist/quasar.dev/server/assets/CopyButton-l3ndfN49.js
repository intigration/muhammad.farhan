import{getCurrentInstance as y,ref as C,resolveComponent as i,mergeProps as b,useSSRContext as g}from"vue";import{ssrRenderAttrs as v,ssrRenderComponent as d}from"vue/server-renderer";import{copyToClipboard as x}from"quasar";import{_ as S}from"../server-entry.js";const p={__name:"CopyButton",__ssrInlineRender:!0,props:{lang:String},setup(s){const r=s,{proxy:o}=y();let c;const l=C(!1);function m(){const t=o.$el.previousSibling;t.classList.add("doc-code--copying");let e=t.innerText;if(t.classList.remove("doc-code--copying"),r.lang==="bash"){const n=/^\$ /;e=e.split(`
`).map(a=>a.replace(n,"")).join(`
`)}x(e).then(()=>{l.value=!0,clearTimeout(c),c=setTimeout(()=>{l.value=!1,c=null},2e3)}).catch(()=>{})}return(t,e,n,a)=>{const _=i("q-icon"),f=i("q-badge");e(`<div${v(b({class:"doc-copy-btn"},a))}>`),e(d(_,{name:"content_paste",color:"brand-primary",onClick:m},null,n)),e(d(f,{class:"absolute header-badge",style:l.value?null:{display:"none"},label:"Copied to clipboard"},null,n)),e("</div>")}}},u=p.setup;p.setup=(s,r)=>{const o=g();return(o.modules||(o.modules=new Set)).add("src/components/CopyButton.vue"),u?u(s,r):void 0};const $=S(p,[["__file","CopyButton.vue"]]);export{$ as C};
