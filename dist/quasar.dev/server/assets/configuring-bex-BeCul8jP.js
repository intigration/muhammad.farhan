import{mergeProps as y,withCtx as s,createTextVNode as o,createVNode as t,unref as p,useSSRContext as $}from"vue";import{ssrRenderComponent as c}from"vue/server-renderer";import{c as h}from"./page-utils-C-QWsEHe.js";import{D as B,a}from"./DocPage-DKr-0pQn.js";import{_ as j}from"../server-entry.js";import"quasar";import"@quasar/extras/mdi-v6";import"vue-router";import"@quasar/extras/fontawesome-v5";import"@quasar/extras/fontawesome-v6";import"@quasar/extras/mdi-v7";import"quasar/icon-set/svg-mdi-v6.mjs";const g={__name:"configuring-bex",__ssrInlineRender:!0,setup(w){const f=[{id:"manifest-json",title:"2. Manifest.json"},{id:"background-and-content-scripts",title:"3. Background And Content Scripts"},{id:"css",title:"4. CSS"},{id:"hook-files",title:"5. Hook Files"}];return(m,v,k,x)=>{v(c(B,y({title:"Configuring BEX",desc:"(@quasar/app-webpack) How to manage your Browser Extensions with Quasar CLI.",overline:"Quasar CLI with Webpack - @quasar/app-webpack",heading:"","edit-link":"quasar-cli-webpack/developing-browser-extensions/configuring-bex",toc:f},x),{default:s((E,i,l,e)=>{if(i)i(`<p${e}>Before we can configure anything, we need to understand how the BEX is structured. A BEX can be one (or more) of the following:</p><ol${e}><li${e}>Runs in its own tab in the browser</li><li${e}>Runs in the `),i(c(a,{to:"https://developer.chrome.com/docs/extensions/how-to/devtools/extend-devtools"},{default:s((r,n,d,u)=>{if(n)n("Developer Tools");else return[o("Developer Tools")]}),_:1},l,e)),i(` window.</li><li${e}>Runs in a `),i(c(a,{to:"https://developer.chrome.com/docs/extensions/develop/ui#popups"},{default:s((r,n,d,u)=>{if(n)n("Popup");else return[o("Popup")]}),_:1},l,e)),i(` window.</li><li${e}>Runs as `),i(c(a,{to:"https://developer.chrome.com/docs/extensions/develop/ui/options-page"},{default:s((r,n,d,u)=>{if(n)n("Options");else return[o("Options")]}),_:1},l,e)),i(` window.</li><li${e}>Runs in the context of a web page (injected into a website)</li></ol><p${e}>You do not need a new Quasar App per BEX type above as a single Quasar Application can run in <strong${e}>all</strong> of the instances above. You can find out more about these in the `),i(c(a,{to:"/quasar-cli-webpack/developing-browser-extensions/types-of-bex"},{default:s((r,n,d,u)=>{if(n)n("types section");else return[o("types section")]}),_:1},l,e)),i(`.</p><h2 id="manifest-json" class="doc-heading doc-h2"${e}>Manifest.json</h2><p${e}>The most important config file for your BEX is <code class="doc-token"${e}>/src-bex/manifest.json</code>. It is recommended that you `),i(c(a,{to:"https://developer.chrome.com/extensions/manifest"},{default:s((r,n,d,u)=>{if(n)n("read up on this file");else return[o("read up on this file")]}),_:1},l,e)),i(` before starting your project.</p><p${e}>When you create your Quasar BEX, the manifest file is already configured to add the basic properties you will need in order to run your BEX. This includes default background scripts, content scripts and a css file which is injected in the context of the web page the BEX is running on.</p><div class="doc-note doc-note--tip"${e}><p class="doc-note__title"${e}>TIP</p><p${e}>Be aware that the manifest.json file is modified on build so as to auto inject required javascript files.</p></div><h2 id="background-and-content-scripts" class="doc-heading doc-h2"${e}>Background And Content Scripts</h2><p${e}>Behind every BEX is a `),i(c(a,{to:"https://developer.chrome.com/extensions/content_scripts"},{default:s((r,n,d,u)=>{if(n)n("content script");else return[o("content script")]}),_:1},l,e)),i(" and a "),i(c(a,{to:"https://developer.chrome.com/extensions/background_pages"},{default:s((r,n,d,u)=>{if(n)n("background script");else return[o("background script")]}),_:1},l,e)),i(`. It’s a good idea to understand what each of these are before writing your first BEX.</p><p${e}>In summary:</p><ul${e}><li${e}><strong${e}>Background Script</strong> - runs in the context of the BEX itself and can listen to all available browser extension events. There will only ever be one instance of each background script <em${e}>per BEX</em>.</li><li${e}><strong${e}>Content Script</strong> - runs in the context of the web page. There will be a new content script instance per tab running the extension.</li></ul><div class="doc-note doc-note--tip"${e}><p class="doc-note__title"${e}>TIP</p><p${e}>Given content scripts run in the web page context, this means that only BEX’s that interact with a web page can use content scripts. Popups, Options and Devtools <strong${e}>will not</strong> have a <em${e}>content script</em> running behind them. They will all however have a <em${e}>background script</em>.</p></div><div class="doc-note doc-note--warning"${e}><p class="doc-note__title"${e}>WARNING</p><p${e}>If you’d like to use `),i(c(a,{to:"https://developer.chrome.com/docs/extensions/mv3/intro/"},{default:s((r,n,d,u)=>{if(n)n("Manifest v3");else return[o("Manifest v3")]}),_:1},l,e)),i(" then you will need to use Quasar CLI with Vite instead of Quasar CLI with Webpack. More details "),i(c(a,{to:"https://github.com/quasarframework/quasar/discussions/8844"},{default:s((r,n,d,u)=>{if(n)n("here");else return[o("here")]}),_:1},l,e)),i(`.</p></div><h2 id="css" class="doc-heading doc-h2"${e}>CSS</h2><p${e}>Any styles you want to be made available to your web page (not your Quasar App) should be included in <code class="doc-token"${e}>src-bex/css/content-css.css</code> as this file is automatically injected into the <code class="doc-token"${e}>manifest.json</code> file.</p><div class="doc-note doc-note--warning"${e}><p class="doc-note__title"${e}>WARNING</p><p${e}>This must be native CSS as it’s not preprocessed via Sass.</p></div><h2 id="hook-files" class="doc-heading doc-h2"${e}>Hook Files</h2><p${e}>In a Quasar BEX, you are provided with <code class="doc-token"${e}>background-hook.js</code>, <code class="doc-token"${e}>content-hook.js</code> and <code class="doc-token"${e}>dom-hook.js</code>. These files are designed to give you access to a bridge which closes the gap in communication with each layer of a BEX. We will explore them in more detail in the `),i(c(a,{to:"/quasar-cli-webpack/developing-browser-extensions/bex-communication"},{default:s((r,n,d,u)=>{if(n)n("next section");else return[o("next section")]}),_:1},l,e)),i(".</p>");else return[t("p",null,"Before we can configure anything, we need to understand how the BEX is structured. A BEX can be one (or more) of the following:"),t("ol",null,[t("li",null,"Runs in its own tab in the browser"),t("li",null,[o("Runs in the "),t(a,{to:"https://developer.chrome.com/docs/extensions/how-to/devtools/extend-devtools"},{default:s(()=>[o("Developer Tools")]),_:1}),o(" window.")]),t("li",null,[o("Runs in a "),t(a,{to:"https://developer.chrome.com/docs/extensions/develop/ui#popups"},{default:s(()=>[o("Popup")]),_:1}),o(" window.")]),t("li",null,[o("Runs as "),t(a,{to:"https://developer.chrome.com/docs/extensions/develop/ui/options-page"},{default:s(()=>[o("Options")]),_:1}),o(" window.")]),t("li",null,"Runs in the context of a web page (injected into a website)")]),t("p",null,[o("You do not need a new Quasar App per BEX type above as a single Quasar Application can run in "),t("strong",null,"all"),o(" of the instances above. You can find out more about these in the "),t(a,{to:"/quasar-cli-webpack/developing-browser-extensions/types-of-bex"},{default:s(()=>[o("types section")]),_:1}),o(".")]),t("h2",{id:"manifest-json",class:"doc-heading doc-h2",onClick:r=>p(h)("manifest-json")},"Manifest.json",8,["onClick"]),t("p",null,[o("The most important config file for your BEX is "),t("code",{class:"doc-token"},"/src-bex/manifest.json"),o(". It is recommended that you "),t(a,{to:"https://developer.chrome.com/extensions/manifest"},{default:s(()=>[o("read up on this file")]),_:1}),o(" before starting your project.")]),t("p",null,"When you create your Quasar BEX, the manifest file is already configured to add the basic properties you will need in order to run your BEX. This includes default background scripts, content scripts and a css file which is injected in the context of the web page the BEX is running on."),t("div",{class:"doc-note doc-note--tip"},[t("p",{class:"doc-note__title"},"TIP"),t("p",null,"Be aware that the manifest.json file is modified on build so as to auto inject required javascript files.")]),t("h2",{id:"background-and-content-scripts",class:"doc-heading doc-h2",onClick:r=>p(h)("background-and-content-scripts")},"Background And Content Scripts",8,["onClick"]),t("p",null,[o("Behind every BEX is a "),t(a,{to:"https://developer.chrome.com/extensions/content_scripts"},{default:s(()=>[o("content script")]),_:1}),o(" and a "),t(a,{to:"https://developer.chrome.com/extensions/background_pages"},{default:s(()=>[o("background script")]),_:1}),o(". It’s a good idea to understand what each of these are before writing your first BEX.")]),t("p",null,"In summary:"),t("ul",null,[t("li",null,[t("strong",null,"Background Script"),o(" - runs in the context of the BEX itself and can listen to all available browser extension events. There will only ever be one instance of each background script "),t("em",null,"per BEX"),o(".")]),t("li",null,[t("strong",null,"Content Script"),o(" - runs in the context of the web page. There will be a new content script instance per tab running the extension.")])]),t("div",{class:"doc-note doc-note--tip"},[t("p",{class:"doc-note__title"},"TIP"),t("p",null,[o("Given content scripts run in the web page context, this means that only BEX’s that interact with a web page can use content scripts. Popups, Options and Devtools "),t("strong",null,"will not"),o(" have a "),t("em",null,"content script"),o(" running behind them. They will all however have a "),t("em",null,"background script"),o(".")])]),t("div",{class:"doc-note doc-note--warning"},[t("p",{class:"doc-note__title"},"WARNING"),t("p",null,[o("If you’d like to use "),t(a,{to:"https://developer.chrome.com/docs/extensions/mv3/intro/"},{default:s(()=>[o("Manifest v3")]),_:1}),o(" then you will need to use Quasar CLI with Vite instead of Quasar CLI with Webpack. More details "),t(a,{to:"https://github.com/quasarframework/quasar/discussions/8844"},{default:s(()=>[o("here")]),_:1}),o(".")])]),t("h2",{id:"css",class:"doc-heading doc-h2",onClick:r=>p(h)("css")},"CSS",8,["onClick"]),t("p",null,[o("Any styles you want to be made available to your web page (not your Quasar App) should be included in "),t("code",{class:"doc-token"},"src-bex/css/content-css.css"),o(" as this file is automatically injected into the "),t("code",{class:"doc-token"},"manifest.json"),o(" file.")]),t("div",{class:"doc-note doc-note--warning"},[t("p",{class:"doc-note__title"},"WARNING"),t("p",null,"This must be native CSS as it’s not preprocessed via Sass.")]),t("h2",{id:"hook-files",class:"doc-heading doc-h2",onClick:r=>p(h)("hook-files")},"Hook Files",8,["onClick"]),t("p",null,[o("In a Quasar BEX, you are provided with "),t("code",{class:"doc-token"},"background-hook.js"),o(", "),t("code",{class:"doc-token"},"content-hook.js"),o(" and "),t("code",{class:"doc-token"},"dom-hook.js"),o(". These files are designed to give you access to a bridge which closes the gap in communication with each layer of a BEX. We will explore them in more detail in the "),t(a,{to:"/quasar-cli-webpack/developing-browser-extensions/bex-communication"},{default:s(()=>[o("next section")]),_:1}),o(".")])]}),_:1},k))}}},b=g.setup;g.setup=(w,f)=>{const m=$();return(m.modules||(m.modules=new Set)).add("src/pages/quasar-cli-webpack/developing-browser-extensions/configuring-bex.md"),b?b(w,f):void 0};const M=j(g,[["__file","configuring-bex.md"]]);export{M as default};
