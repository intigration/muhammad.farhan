import{mergeProps as P,withCtx as p,createTextVNode as a,unref as i,createVNode as n,useSSRContext as x}from"vue";import{ssrRenderComponent as c}from"vue/server-renderer";import{c as v}from"./page-utils-C-QWsEHe.js";import{D as S,a as m}from"./DocPage-DKr-0pQn.js";import{D as f}from"./DocTree-Kz2iQlb5.js";import{D as r}from"./DocPrerender-DPOnWPFO.js";import{C as u}from"./CopyButton-l3ndfN49.js";import{_ as j}from"../server-entry.js";import"quasar";import"@quasar/extras/mdi-v6";import"vue-router";import"@quasar/extras/fontawesome-v5";import"@quasar/extras/fontawesome-v6";import"@quasar/extras/mdi-v7";import"quasar/icon-set/svg-mdi-v6.mjs";const y={__name:"state-management-with-pinia",__ssrInlineRender:!0,setup(w){const h=[{id:"adding-a-pinia-store",title:"2. Adding a Pinia store"},{id:"accessing-the-router-in-pinia-stores",title:"3. Accessing the router in Pinia stores"}],g={tree:{l:"src",c:[{l:"stores",e:"Pinia",c:[{l:"index.js",e:"Pinia initialization"},{l:"<store>",e:"Pinia store..."},{l:"<store>",e:"Pinia store..."}]}]},newStore:{l:"src",c:[{l:"stores",c:[{l:"index.js",e:"Pinia initialization"},{l:"counter.js",e:"Pinia store"}]}]}};return(U,b,q,C)=>{b(c(S,P({title:"State management with Pinia",desc:"(@quasar/app-webpack) How to manage Pinia in a Quasar App.",overline:"Quasar CLI with Webpack - @quasar/app-webpack",heading:"","edit-link":"quasar-cli-webpack/state-management-with-pinia",toc:h},C),{default:p((O,e,k,s)=>{if(e)e(`<p${s}>In large applications, state management often becomes complex due to multiple pieces of state scattered across many components and the interactions between them. It is often overlooked that the source of truth in Vue instances is the raw data object - a Vue instance simply proxies access to it. Therefore, if you have a piece of state that should be shared by multiple instances, you should avoid duplicating it and share it by identity.</p><p${s}>The recommended way to go if you want components sharing state is Pinia. Take a look at its `),e(c(m,{to:"https://pinia.vuejs.org/"},{default:p(($,o,l,t)=>{if(o)o("documentation");else return[a("documentation")]}),_:1},k,s)),e(" before diving in. It has a great feature when used along the "),e(c(m,{to:"https://github.com/vuejs/vue-devtools"},{default:p(($,o,l,t)=>{if(o)o("Vue dev-tools");else return[a("Vue dev-tools")]}),_:1},k,s)),e(` browser extension like Time Travel debugging.</p><p${s}>We won’t go into details on how to configure or use Pinia since it has great docs. Instead we’ll just show you what the folder structure looks like when using it on a Quasar project.</p>`),e(c(f,{def:g.tree},null,k,s)),e(`<p${s}>When you scaffold a Quasar project folder you can choose to add Pinia. It will create all the necessary configuration for you. Like for example the creation of <code class="doc-token"${s}>/src/stores</code> which handles all the Pinia related code that you need.</p><p${s}>If you don’t choose the Pinia option during project creation but would like to add it later then all you need to do is to check the next section and create the <code class="doc-token"${s}>src/stores/index.[js|ts]</code> file (it’s automatically created when you run <code class="doc-token"${s}>quasar new store &lt;name&gt;</code>):</p>`),e(c(i(r),{title:"/src/stores/index.js"},{default:p(($,o,l,t)=>{if(o)o(`<pre class="doc-code"${t}><code${t}><span class="token keyword"${t}>import</span> <span class="token punctuation"${t}>{</span> store <span class="token punctuation"${t}>}</span> <span class="token keyword"${t}>from</span> <span class="token string"${t}>&#39;quasar/wrappers&#39;</span>
<span class="token keyword"${t}>import</span> <span class="token punctuation"${t}>{</span> createPinia <span class="token punctuation"${t}>}</span> <span class="token keyword"${t}>from</span> <span class="token string"${t}>&#39;pinia&#39;</span>

<span class="token comment"${t}>/*
 * If not building with SSR mode, you can
 * directly export the Store instantiation;
 *
 * The function below can be async too; either use
 * async/await or return a Promise which resolves
 * with the Store instance.
 */</span>

<span class="token keyword"${t}>export</span> <span class="token keyword"${t}>default</span> <span class="token function"${t}>store</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>(</span><span class="token comment"${t}>/* { ssrContext } */</span><span class="token punctuation"${t}>)</span> <span class="token operator"${t}>=&gt;</span> <span class="token punctuation"${t}>{</span>
  <span class="token keyword"${t}>const</span> pinia <span class="token operator"${t}>=</span> <span class="token function"${t}>createPinia</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span>

  <span class="token comment"${t}>// You can add Pinia plugins here</span>
  <span class="token comment"${t}>// pinia.use(SomePiniaPlugin)</span>

  <span class="token keyword"${t}>return</span> pinia
<span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>)</span></code></pre>`),o(c(u,null,null,l,t));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" store "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'quasar/wrappers'"),a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" createPinia "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'pinia'"),a(`

`),n("span",{class:"token comment"},`/*
 * If not building with SSR mode, you can
 * directly export the Store instantiation;
 *
 * The function below can be async too; either use
 * async/await or return a Promise which resolves
 * with the Store instance.
 */`),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token function"},"store"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token comment"},"/* { ssrContext } */"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token keyword"},"const"),a(" pinia "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"createPinia"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`

  `),n("span",{class:"token comment"},"// You can add Pinia plugins here"),a(`
  `),n("span",{class:"token comment"},"// pinia.use(SomePiniaPlugin)"),a(`

  `),n("span",{class:"token keyword"},"return"),a(` pinia
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])]),n(u)]}),_:1},k,s)),e(`<h2 id="adding-a-pinia-store" class="doc-heading doc-h2"${s}>Adding a Pinia store</h2><p${s}>Adding a Pinia store is easy with Quasar CLI through the <code class="doc-token"${s}>$ quasar new</code> command.</p>`),e(c(i(r),null,{default:p(($,o,l,t)=>{if(o)o(`<pre class="doc-code"${t}><code${t}>$ quasar new store <span class="token operator"${t}>&lt;</span>store_name<span class="token operator"${t}>&gt;</span> <span class="token punctuation"${t}>[</span>--format ts<span class="token punctuation"${t}>]</span></code></pre>`),o(c(u,{lang:"bash"},null,l,t));else return[n("pre",{class:"doc-code"},[n("code",null,[a("$ quasar new store "),n("span",{class:"token operator"},"<"),a("store_name"),n("span",{class:"token operator"},">"),a(),n("span",{class:"token punctuation"},"["),a("--format ts"),n("span",{class:"token punctuation"},"]")])]),n(u,{lang:"bash"})]}),_:1},k,s)),e(`<p${s}>It will create a folder in <code class="doc-token"${s}>/src/stores</code> named by “store_name” from the command above. It will contain all the boilerplate that you need.</p><p${s}>Let’s say that you want to create a “counter” Pinia store. You issue <code class="doc-token"${s}>$ quasar new store counter</code>. You then notice the newly created <code class="doc-token"${s}>/src/stores/counter.[js|ts]</code> file:</p>`),e(c(f,{def:g.newStore},null,k,s)),e(`<p${s}>Example of Pinia store:</p>`),e(c(i(r),null,{default:p(($,o,l,t)=>{if(o)o(`<pre class="doc-code"${t}><code${t}><span class="token keyword"${t}>import</span> <span class="token punctuation"${t}>{</span> defineStore <span class="token punctuation"${t}>}</span> <span class="token keyword"${t}>from</span> <span class="token string"${t}>&#39;pinia&#39;</span>

<span class="token keyword"${t}>export</span> <span class="token keyword"${t}>const</span> useCounterStore <span class="token operator"${t}>=</span> <span class="token function"${t}>defineStore</span><span class="token punctuation"${t}>(</span><span class="token string"${t}>&#39;counter&#39;</span><span class="token punctuation"${t}>,</span> <span class="token punctuation"${t}>{</span>
  <span class="token function-variable function"${t}>state</span><span class="token operator"${t}>:</span> <span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span> <span class="token operator"${t}>=&gt;</span> <span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>{</span>
    <span class="token literal-property property"${t}>counter</span><span class="token operator"${t}>:</span> <span class="token number"${t}>0</span><span class="token punctuation"${t}>,</span>
  <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>)</span><span class="token punctuation"${t}>,</span>
  <span class="token literal-property property"${t}>getters</span><span class="token operator"${t}>:</span> <span class="token punctuation"${t}>{</span>
    <span class="token function-variable function"${t}>doubleCount</span><span class="token operator"${t}>:</span> <span class="token punctuation"${t}>(</span><span class="token parameter"${t}>state</span><span class="token punctuation"${t}>)</span> <span class="token operator"${t}>=&gt;</span> state<span class="token punctuation"${t}>.</span>counter <span class="token operator"${t}>*</span> <span class="token number"${t}>2</span><span class="token punctuation"${t}>,</span>
  <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>,</span>
  <span class="token literal-property property"${t}>actions</span><span class="token operator"${t}>:</span> <span class="token punctuation"${t}>{</span>
    <span class="token function"${t}>increment</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span> <span class="token punctuation"${t}>{</span>
      <span class="token keyword"${t}>this</span><span class="token punctuation"${t}>.</span>counter<span class="token operator"${t}>++</span><span class="token punctuation"${t}>;</span>
    <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>,</span>
  <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>,</span>
<span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>)</span></code></pre>`),o(c(u,null,null,l,t));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" defineStore "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'pinia'"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"const"),a(" useCounterStore "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"defineStore"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'counter'"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token function-variable function"},"state"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token literal-property property"},"counter"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token literal-property property"},"getters"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token function-variable function"},"doubleCount"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"state"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(" state"),n("span",{class:"token punctuation"},"."),a("counter "),n("span",{class:"token operator"},"*"),a(),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token literal-property property"},"actions"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token function"},"increment"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),a("counter"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},";"),a(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])]),n(u)]}),_:1},k,s)),e(`<p${s}>We’ve created the new Pinia store, but we haven’t yet used it in our app. In a Vue file:</p>`),e(c(i(r),null,{default:p(($,o,l,t)=>{if(o)o(`<pre class="doc-code"${t}><code${t}><span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>template</span><span class="token punctuation"${t}>&gt;</span></span>
  <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Option 1 --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>Direct store<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Read the state value directly --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>{{ store.counter }}<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Use getter directly --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>{{ store.doubleCount }}<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>

    <span class="token comment"${t}>&lt;!-- Manipulate state directly --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>q-btn</span> <span class="token attr-name"${t}>@click</span><span class="token attr-value"${t}><span class="token punctuation attr-equals"${t}>=</span><span class="token punctuation"${t}>&quot;</span>store.counter--<span class="token punctuation"${t}>&quot;</span></span><span class="token punctuation"${t}>&gt;</span></span>-<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>q-btn</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Use an action --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>q-btn</span> <span class="token attr-name"${t}>@click</span><span class="token attr-value"${t}><span class="token punctuation attr-equals"${t}>=</span><span class="token punctuation"${t}>&quot;</span>store.increment()<span class="token punctuation"${t}>&quot;</span></span><span class="token punctuation"${t}>&gt;</span></span>+<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>q-btn</span><span class="token punctuation"${t}>&gt;</span></span>
  <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>

  <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Option 2 --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>Indirect store<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Use the computed state --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>{{ count }}<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Use the computed getter --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>{{ doubleCountValue }}<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>

    <span class="token comment"${t}>&lt;!-- Use the exposed function --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>q-btn</span> <span class="token attr-name"${t}>@click</span><span class="token attr-value"${t}><span class="token punctuation attr-equals"${t}>=</span><span class="token punctuation"${t}>&quot;</span>decrementCount()<span class="token punctuation"${t}>&quot;</span></span><span class="token punctuation"${t}>&gt;</span></span>-<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>q-btn</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Use the exposed function --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>q-btn</span> <span class="token attr-name"${t}>@click</span><span class="token attr-value"${t}><span class="token punctuation attr-equals"${t}>=</span><span class="token punctuation"${t}>&quot;</span>incrementCount()<span class="token punctuation"${t}>&quot;</span></span><span class="token punctuation"${t}>&gt;</span></span>+<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>q-btn</span><span class="token punctuation"${t}>&gt;</span></span>
  <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>

  <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Option 3 --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>Destructured store<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Use the destructured state --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>{{ counter }}<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Use the destructured getter --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>div</span><span class="token punctuation"${t}>&gt;</span></span>{{ doubleCount }}<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>

    <span class="token comment"${t}>&lt;!-- Manipulate state directly--&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>q-btn</span> <span class="token attr-name"${t}>@click</span><span class="token attr-value"${t}><span class="token punctuation attr-equals"${t}>=</span><span class="token punctuation"${t}>&quot;</span>counter--<span class="token punctuation"${t}>&quot;</span></span><span class="token punctuation"${t}>&gt;</span></span>-<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>q-btn</span><span class="token punctuation"${t}>&gt;</span></span>
    <span class="token comment"${t}>&lt;!-- Use an action --&gt;</span>
    <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>q-btn</span> <span class="token attr-name"${t}>@click</span><span class="token attr-value"${t}><span class="token punctuation attr-equals"${t}>=</span><span class="token punctuation"${t}>&quot;</span>increment()<span class="token punctuation"${t}>&quot;</span></span><span class="token punctuation"${t}>&gt;</span></span>+<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>q-btn</span><span class="token punctuation"${t}>&gt;</span></span>
  <span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>div</span><span class="token punctuation"${t}>&gt;</span></span>
<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>template</span><span class="token punctuation"${t}>&gt;</span></span>

<span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;</span>script</span><span class="token punctuation"${t}>&gt;</span></span><span class="token script"${t}><span class="token language-javascript"${t}>
<span class="token keyword"${t}>import</span> <span class="token punctuation"${t}>{</span> computed <span class="token punctuation"${t}>}</span> <span class="token keyword"${t}>from</span> <span class="token string"${t}>&#39;vue&#39;</span><span class="token punctuation"${t}>;</span>
<span class="token keyword"${t}>import</span> <span class="token punctuation"${t}>{</span> useCounterStore <span class="token punctuation"${t}>}</span> <span class="token keyword"${t}>from</span> <span class="token string"${t}>&#39;stores/counter&#39;</span><span class="token punctuation"${t}>;</span>
<span class="token keyword"${t}>import</span> <span class="token punctuation"${t}>{</span> storeToRefs <span class="token punctuation"${t}>}</span> <span class="token keyword"${t}>from</span> <span class="token string"${t}>&#39;pinia&#39;</span><span class="token punctuation"${t}>;</span>

<span class="token keyword"${t}>export</span> <span class="token keyword"${t}>default</span> <span class="token punctuation"${t}>{</span>
  <span class="token function"${t}>setup</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span> <span class="token punctuation"${t}>{</span>
    <span class="token keyword"${t}>const</span> store <span class="token operator"${t}>=</span> <span class="token function"${t}>useCounterStore</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span><span class="token punctuation"${t}>;</span>

    <span class="token comment"${t}>// Option 2: use computed and functions to use the store</span>
    <span class="token keyword"${t}>const</span> count <span class="token operator"${t}>=</span> <span class="token function"${t}>computed</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span> <span class="token operator"${t}>=&gt;</span> store<span class="token punctuation"${t}>.</span>counter<span class="token punctuation"${t}>)</span><span class="token punctuation"${t}>;</span>
    <span class="token keyword"${t}>const</span> doubleCountValue <span class="token operator"${t}>=</span> <span class="token function"${t}>computed</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span> <span class="token operator"${t}>=&gt;</span> store<span class="token punctuation"${t}>.</span>doubleCount<span class="token punctuation"${t}>)</span><span class="token punctuation"${t}>;</span>
    <span class="token keyword"${t}>const</span> <span class="token function-variable function"${t}>incrementCount</span> <span class="token operator"${t}>=</span> <span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span> <span class="token operator"${t}>=&gt;</span> store<span class="token punctuation"${t}>.</span><span class="token function"${t}>increment</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span><span class="token punctuation"${t}>;</span> <span class="token comment"${t}>// use action</span>
    <span class="token keyword"${t}>const</span> <span class="token function-variable function"${t}>decrementCount</span> <span class="token operator"${t}>=</span> <span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span> <span class="token operator"${t}>=&gt;</span> store<span class="token punctuation"${t}>.</span>counter<span class="token operator"${t}>--</span><span class="token punctuation"${t}>;</span> <span class="token comment"${t}>// manipulate directly</span>

    <span class="token comment"${t}>// Option 3: use destructuring to use the store in the template</span>
    <span class="token keyword"${t}>const</span> <span class="token punctuation"${t}>{</span> counter<span class="token punctuation"${t}>,</span> doubleCount <span class="token punctuation"${t}>}</span> <span class="token operator"${t}>=</span> <span class="token function"${t}>storeToRefs</span><span class="token punctuation"${t}>(</span>store<span class="token punctuation"${t}>)</span><span class="token punctuation"${t}>;</span> <span class="token comment"${t}>// state and getters need &quot;storeToRefs&quot;</span>
    <span class="token keyword"${t}>const</span> <span class="token punctuation"${t}>{</span> increment <span class="token punctuation"${t}>}</span> <span class="token operator"${t}>=</span> store<span class="token punctuation"${t}>;</span> <span class="token comment"${t}>// actions can be destructured directly</span>

    <span class="token keyword"${t}>return</span> <span class="token punctuation"${t}>{</span>
      <span class="token comment"${t}>// Option 1: return the store directly and couple it in the template</span>
      store<span class="token punctuation"${t}>,</span>

      <span class="token comment"${t}>// Option 2: use the store in functions and compute the state to use in the template</span>
      count<span class="token punctuation"${t}>,</span>
      doubleCountValue<span class="token punctuation"${t}>,</span>
      incrementCount<span class="token punctuation"${t}>,</span>
      decrementCount<span class="token punctuation"${t}>,</span>

      <span class="token comment"${t}>// Option 3: pass the destructed state, getters and actions to the template</span>
      counter<span class="token punctuation"${t}>,</span>
      increment<span class="token punctuation"${t}>,</span>
      doubleCount<span class="token punctuation"${t}>,</span>
    <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>;</span>
  <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>,</span>
<span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>;</span>
</span></span><span class="token tag"${t}><span class="token tag"${t}><span class="token punctuation"${t}>&lt;/</span>script</span><span class="token punctuation"${t}>&gt;</span></span></code></pre>`),o(c(u,null,null,l,t));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("template")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Option 1 -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("Direct store"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Read the state value directly -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ store.counter }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use getter directly -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ store.doubleCount }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`

    `),n("span",{class:"token comment"},"<!-- Manipulate state directly -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("store.counter--"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("-"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use an action -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("store.increment()"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("+"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`

  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Option 2 -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("Indirect store"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use the computed state -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ count }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use the computed getter -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ doubleCountValue }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`

    `),n("span",{class:"token comment"},"<!-- Use the exposed function -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("decrementCount()"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("-"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use the exposed function -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("incrementCount()"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("+"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`

  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Option 3 -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("Destructured store"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use the destructured state -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ counter }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use the destructured getter -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ doubleCount }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`

    `),n("span",{class:"token comment"},"<!-- Manipulate state directly-->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("counter--"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("-"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use an action -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("increment()"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("+"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("template")]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("script")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" computed "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'vue'"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" useCounterStore "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'stores/counter'"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" storeToRefs "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'pinia'"),n("span",{class:"token punctuation"},";"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token function"},"setup"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token keyword"},"const"),a(" store "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"useCounterStore"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`

    `),n("span",{class:"token comment"},"// Option 2: use computed and functions to use the store"),a(`
    `),n("span",{class:"token keyword"},"const"),a(" count "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"computed"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(" store"),n("span",{class:"token punctuation"},"."),a("counter"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
    `),n("span",{class:"token keyword"},"const"),a(" doubleCountValue "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"computed"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(" store"),n("span",{class:"token punctuation"},"."),a("doubleCount"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
    `),n("span",{class:"token keyword"},"const"),a(),n("span",{class:"token function-variable function"},"incrementCount"),a(),n("span",{class:"token operator"},"="),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(" store"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"increment"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},"// use action"),a(`
    `),n("span",{class:"token keyword"},"const"),a(),n("span",{class:"token function-variable function"},"decrementCount"),a(),n("span",{class:"token operator"},"="),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(" store"),n("span",{class:"token punctuation"},"."),a("counter"),n("span",{class:"token operator"},"--"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},"// manipulate directly"),a(`

    `),n("span",{class:"token comment"},"// Option 3: use destructuring to use the store in the template"),a(`
    `),n("span",{class:"token keyword"},"const"),a(),n("span",{class:"token punctuation"},"{"),a(" counter"),n("span",{class:"token punctuation"},","),a(" doubleCount "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"storeToRefs"),n("span",{class:"token punctuation"},"("),a("store"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},'// state and getters need "storeToRefs"'),a(`
    `),n("span",{class:"token keyword"},"const"),a(),n("span",{class:"token punctuation"},"{"),a(" increment "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token operator"},"="),a(" store"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},"// actions can be destructured directly"),a(`

    `),n("span",{class:"token keyword"},"return"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token comment"},"// Option 1: return the store directly and couple it in the template"),a(`
      store`),n("span",{class:"token punctuation"},","),a(`

      `),n("span",{class:"token comment"},"// Option 2: use the store in functions and compute the state to use in the template"),a(`
      count`),n("span",{class:"token punctuation"},","),a(`
      doubleCountValue`),n("span",{class:"token punctuation"},","),a(`
      incrementCount`),n("span",{class:"token punctuation"},","),a(`
      decrementCount`),n("span",{class:"token punctuation"},","),a(`

      `),n("span",{class:"token comment"},"// Option 3: pass the destructed state, getters and actions to the template"),a(`
      counter`),n("span",{class:"token punctuation"},","),a(`
      increment`),n("span",{class:"token punctuation"},","),a(`
      doubleCount`),n("span",{class:"token punctuation"},","),a(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),a(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("script")]),n("span",{class:"token punctuation"},">")])])]),n(u)]}),_:1},k,s)),e(`<p${s}>More info on defining a Pinia store `),e(c(m,{to:"https://pinia.vuejs.org/core-concepts/"},{default:p(($,o,l,t)=>{if(o)o("here");else return[a("here")]}),_:1},k,s)),e(`.</p><h2 id="accessing-the-router-in-pinia-stores" class="doc-heading doc-h2"${s}>Accessing the router in Pinia stores</h2><p${s}>Simply use <code class="doc-token"${s}>this.router</code> in Pinia stores to get access to the router.</p><p${s}>Here is an example:</p>`),e(c(i(r),null,{default:p(($,o,l,t)=>{if(o)o(`<pre class="doc-code"${t}><code${t}><span class="token keyword"${t}>import</span> <span class="token punctuation"${t}>{</span> defineStore <span class="token punctuation"${t}>}</span> <span class="token keyword"${t}>from</span> <span class="token string"${t}>&#39;pinia&#39;</span>

<span class="token keyword"${t}>export</span> <span class="token keyword"${t}>const</span> useWhateverStore <span class="token operator"${t}>=</span> <span class="token function"${t}>defineStore</span><span class="token punctuation"${t}>(</span><span class="token string"${t}>&#39;whatever&#39;</span><span class="token punctuation"${t}>,</span> <span class="token punctuation"${t}>{</span>
  <span class="token comment"${t}>// ...</span>
  <span class="token literal-property property"${t}>actions</span><span class="token operator"${t}>:</span> <span class="token punctuation"${t}>{</span>
    <span class="token function"${t}>whateverAction</span> <span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span> <span class="token punctuation"${t}>{</span>
      <span class="token keyword"${t}>this</span><span class="token punctuation"${t}>.</span>router<span class="token punctuation"${t}>.</span><span class="token function"${t}>push</span><span class="token punctuation"${t}>(</span><span class="token string"${t}>&#39;...&#39;</span><span class="token punctuation"${t}>)</span>
    <span class="token punctuation"${t}>}</span>
  <span class="token punctuation"${t}>}</span>
<span class="token punctuation"${t}>}</span></code></pre>`),o(c(u,null,null,l,t));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" defineStore "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'pinia'"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"const"),a(" useWhateverStore "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"defineStore"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'whatever'"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token comment"},"// ..."),a(`
  `),n("span",{class:"token literal-property property"},"actions"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token function"},"whateverAction"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),a("router"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'...'"),n("span",{class:"token punctuation"},")"),a(`
    `),n("span",{class:"token punctuation"},"}"),a(`
  `),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(u)]}),_:1},k,s));else return[n("p",null,"In large applications, state management often becomes complex due to multiple pieces of state scattered across many components and the interactions between them. It is often overlooked that the source of truth in Vue instances is the raw data object - a Vue instance simply proxies access to it. Therefore, if you have a piece of state that should be shared by multiple instances, you should avoid duplicating it and share it by identity."),n("p",null,[a("The recommended way to go if you want components sharing state is Pinia. Take a look at its "),n(m,{to:"https://pinia.vuejs.org/"},{default:p(()=>[a("documentation")]),_:1}),a(" before diving in. It has a great feature when used along the "),n(m,{to:"https://github.com/vuejs/vue-devtools"},{default:p(()=>[a("Vue dev-tools")]),_:1}),a(" browser extension like Time Travel debugging.")]),n("p",null,"We won’t go into details on how to configure or use Pinia since it has great docs. Instead we’ll just show you what the folder structure looks like when using it on a Quasar project."),n(f,{def:g.tree},null,8,["def"]),n("p",null,[a("When you scaffold a Quasar project folder you can choose to add Pinia. It will create all the necessary configuration for you. Like for example the creation of "),n("code",{class:"doc-token"},"/src/stores"),a(" which handles all the Pinia related code that you need.")]),n("p",null,[a("If you don’t choose the Pinia option during project creation but would like to add it later then all you need to do is to check the next section and create the "),n("code",{class:"doc-token"},"src/stores/index.[js|ts]"),a(" file (it’s automatically created when you run "),n("code",{class:"doc-token"},"quasar new store <name>"),a("):")]),n(i(r),{title:"/src/stores/index.js"},{default:p(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" store "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'quasar/wrappers'"),a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" createPinia "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'pinia'"),a(`

`),n("span",{class:"token comment"},`/*
 * If not building with SSR mode, you can
 * directly export the Store instantiation;
 *
 * The function below can be async too; either use
 * async/await or return a Promise which resolves
 * with the Store instance.
 */`),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token function"},"store"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token comment"},"/* { ssrContext } */"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token keyword"},"const"),a(" pinia "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"createPinia"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`

  `),n("span",{class:"token comment"},"// You can add Pinia plugins here"),a(`
  `),n("span",{class:"token comment"},"// pinia.use(SomePiniaPlugin)"),a(`

  `),n("span",{class:"token keyword"},"return"),a(` pinia
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])]),n(u)]),_:1}),n("h2",{id:"adding-a-pinia-store",class:"doc-heading doc-h2",onClick:$=>i(v)("adding-a-pinia-store")},"Adding a Pinia store",8,["onClick"]),n("p",null,[a("Adding a Pinia store is easy with Quasar CLI through the "),n("code",{class:"doc-token"},"$ quasar new"),a(" command.")]),n(i(r),null,{default:p(()=>[n("pre",{class:"doc-code"},[n("code",null,[a("$ quasar new store "),n("span",{class:"token operator"},"<"),a("store_name"),n("span",{class:"token operator"},">"),a(),n("span",{class:"token punctuation"},"["),a("--format ts"),n("span",{class:"token punctuation"},"]")])]),n(u,{lang:"bash"})]),_:1}),n("p",null,[a("It will create a folder in "),n("code",{class:"doc-token"},"/src/stores"),a(" named by “store_name” from the command above. It will contain all the boilerplate that you need.")]),n("p",null,[a("Let’s say that you want to create a “counter” Pinia store. You issue "),n("code",{class:"doc-token"},"$ quasar new store counter"),a(". You then notice the newly created "),n("code",{class:"doc-token"},"/src/stores/counter.[js|ts]"),a(" file:")]),n(f,{def:g.newStore},null,8,["def"]),n("p",null,"Example of Pinia store:"),n(i(r),null,{default:p(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" defineStore "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'pinia'"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"const"),a(" useCounterStore "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"defineStore"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'counter'"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token function-variable function"},"state"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token literal-property property"},"counter"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token literal-property property"},"getters"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token function-variable function"},"doubleCount"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"state"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(" state"),n("span",{class:"token punctuation"},"."),a("counter "),n("span",{class:"token operator"},"*"),a(),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token literal-property property"},"actions"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token function"},"increment"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),a("counter"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},";"),a(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])]),n(u)]),_:1}),n("p",null,"We’ve created the new Pinia store, but we haven’t yet used it in our app. In a Vue file:"),n(i(r),null,{default:p(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("template")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Option 1 -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("Direct store"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Read the state value directly -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ store.counter }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use getter directly -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ store.doubleCount }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`

    `),n("span",{class:"token comment"},"<!-- Manipulate state directly -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("store.counter--"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("-"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use an action -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("store.increment()"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("+"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`

  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Option 2 -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("Indirect store"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use the computed state -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ count }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use the computed getter -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ doubleCountValue }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`

    `),n("span",{class:"token comment"},"<!-- Use the exposed function -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("decrementCount()"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("-"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use the exposed function -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("incrementCount()"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("+"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`

  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Option 3 -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("Destructured store"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use the destructured state -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ counter }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use the destructured getter -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),n("span",{class:"token punctuation"},">")]),a("{{ doubleCount }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`

    `),n("span",{class:"token comment"},"<!-- Manipulate state directly-->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("counter--"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("-"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- Use an action -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("q-btn")]),a(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("increment()"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("+"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("q-btn")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("template")]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("script")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" computed "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'vue'"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" useCounterStore "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'stores/counter'"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" storeToRefs "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'pinia'"),n("span",{class:"token punctuation"},";"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token function"},"setup"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token keyword"},"const"),a(" store "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"useCounterStore"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`

    `),n("span",{class:"token comment"},"// Option 2: use computed and functions to use the store"),a(`
    `),n("span",{class:"token keyword"},"const"),a(" count "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"computed"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(" store"),n("span",{class:"token punctuation"},"."),a("counter"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
    `),n("span",{class:"token keyword"},"const"),a(" doubleCountValue "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"computed"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(" store"),n("span",{class:"token punctuation"},"."),a("doubleCount"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
    `),n("span",{class:"token keyword"},"const"),a(),n("span",{class:"token function-variable function"},"incrementCount"),a(),n("span",{class:"token operator"},"="),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(" store"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"increment"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},"// use action"),a(`
    `),n("span",{class:"token keyword"},"const"),a(),n("span",{class:"token function-variable function"},"decrementCount"),a(),n("span",{class:"token operator"},"="),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(" store"),n("span",{class:"token punctuation"},"."),a("counter"),n("span",{class:"token operator"},"--"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},"// manipulate directly"),a(`

    `),n("span",{class:"token comment"},"// Option 3: use destructuring to use the store in the template"),a(`
    `),n("span",{class:"token keyword"},"const"),a(),n("span",{class:"token punctuation"},"{"),a(" counter"),n("span",{class:"token punctuation"},","),a(" doubleCount "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"storeToRefs"),n("span",{class:"token punctuation"},"("),a("store"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},'// state and getters need "storeToRefs"'),a(`
    `),n("span",{class:"token keyword"},"const"),a(),n("span",{class:"token punctuation"},"{"),a(" increment "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token operator"},"="),a(" store"),n("span",{class:"token punctuation"},";"),a(),n("span",{class:"token comment"},"// actions can be destructured directly"),a(`

    `),n("span",{class:"token keyword"},"return"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token comment"},"// Option 1: return the store directly and couple it in the template"),a(`
      store`),n("span",{class:"token punctuation"},","),a(`

      `),n("span",{class:"token comment"},"// Option 2: use the store in functions and compute the state to use in the template"),a(`
      count`),n("span",{class:"token punctuation"},","),a(`
      doubleCountValue`),n("span",{class:"token punctuation"},","),a(`
      incrementCount`),n("span",{class:"token punctuation"},","),a(`
      decrementCount`),n("span",{class:"token punctuation"},","),a(`

      `),n("span",{class:"token comment"},"// Option 3: pass the destructed state, getters and actions to the template"),a(`
      counter`),n("span",{class:"token punctuation"},","),a(`
      increment`),n("span",{class:"token punctuation"},","),a(`
      doubleCount`),n("span",{class:"token punctuation"},","),a(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),a(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("script")]),n("span",{class:"token punctuation"},">")])])]),n(u)]),_:1}),n("p",null,[a("More info on defining a Pinia store "),n(m,{to:"https://pinia.vuejs.org/core-concepts/"},{default:p(()=>[a("here")]),_:1}),a(".")]),n("h2",{id:"accessing-the-router-in-pinia-stores",class:"doc-heading doc-h2",onClick:$=>i(v)("accessing-the-router-in-pinia-stores")},"Accessing the router in Pinia stores",8,["onClick"]),n("p",null,[a("Simply use "),n("code",{class:"doc-token"},"this.router"),a(" in Pinia stores to get access to the router.")]),n("p",null,"Here is an example:"),n(i(r),null,{default:p(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" defineStore "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'pinia'"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"const"),a(" useWhateverStore "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"defineStore"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'whatever'"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token comment"},"// ..."),a(`
  `),n("span",{class:"token literal-property property"},"actions"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token function"},"whateverAction"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),a("router"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'...'"),n("span",{class:"token punctuation"},")"),a(`
    `),n("span",{class:"token punctuation"},"}"),a(`
  `),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(u)]),_:1})]}),_:1},q))}}},d=y.setup;y.setup=(w,h)=>{const g=x();return(g.modules||(g.modules=new Set)).add("src/pages/quasar-cli-webpack/state-management-with-pinia.md"),d?d(w,h):void 0};const F=j(y,[["__file","state-management-with-pinia.md"]]);export{F as default};
