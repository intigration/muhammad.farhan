import{mergeProps as A,withCtx as u,createTextVNode as a,unref as p,createVNode as n,useSSRContext as W}from"vue";import{ssrRenderComponent as l}from"vue/server-renderer";import{c as d}from"./page-utils-C-QWsEHe.js";import{D as L,a as v}from"./DocPage-DKr-0pQn.js";import{D as $}from"./DocApi-Df9ryd6x.js";import{D as w}from"./DocInstallation-DgMazQjg.js";import{D as k}from"./DocPrerender-DPOnWPFO.js";import{C as c}from"./CopyButton-l3ndfN49.js";import{_ as x}from"../server-entry.js";import"quasar";import"@quasar/extras/mdi-v6";import"./DocCardTitle-BSnqQsiz.js";import"./utils-DKnLoYai.js";import"./DocCode-BVg0tuSc.js";import"prismjs";import"vue-router";import"@quasar/extras/fontawesome-v5";import"@quasar/extras/fontawesome-v6";import"@quasar/extras/mdi-v7";import"quasar/icon-set/svg-mdi-v6.mjs";const y={__name:"web-storage",__ssrInlineRender:!0,setup(m){const f=[{id:"localstorage-api",title:"2. LocalStorage API",deep:!0},{id:"sessionstorage-api",title:"3. SessionStorage API",deep:!0},{id:"installation",title:"4. Installation",deep:!0},{id:"usage",title:"5. Usage"},{id:"data-types",title:"6. Data Types"}];return(S,b,P,q)=>{b(l(L,A({title:"Local/Session Storage Plugins",desc:"A Quasar plugin that wraps the Local/Session Storage, retrieving data with its original JS type.",heading:"","edit-link":"quasar-plugins/web-storage",toc:f},q),{default:u((D,o,i,s)=>{if(o)o(`<p${s}>Quasar provides a wrapper over `),o(l(v,{to:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API"},{default:u((g,e,r,t)=>{if(e)e("Web Storage API");else return[a("Web Storage API")]}),_:1},i,s)),o(`.</p><div class="doc-note doc-note--tip"${s}><p class="doc-note__title"${s}>TIP</p><p${s}>Web Storage API only retrieves strings. <strong${s}>Quasar retrieves data with its original data type.</strong> You tell it to store a Number then to retrieve it and it will still be a Number, not a string representation of the number as with Web Storage API. Same for JSON, Regular Expressions, Dates, Booleans and so on.</p></div><div class="doc-note doc-note--danger"${s}><p class="doc-note__title"${s}>Note about SSR</p><p${s}>When running the code server-side on SSR builds, this feature can’t work. Web Storage is a browser API only. You can however make use of it on the client-side with SSR.</p></div>`),o(l($,{file:"LocalStorage"},null,i,s)),o(l($,{file:"SessionStorage"},null,i,s)),o(l(w,{plugins:["LocalStorage","SessionStorage"]},null,i,s)),o(`<h2 id="usage" class="doc-heading doc-h2"${s}>Usage</h2>`),o(l(p(k),{title:"Outside of a Vue file"},{default:u((g,e,r,t)=>{if(e)e(`<pre class="doc-code"${t}><code${t}><span class="token keyword"${t}>import</span> <span class="token punctuation"${t}>{</span> LocalStorage<span class="token punctuation"${t}>,</span> SessionStorage <span class="token punctuation"${t}>}</span> <span class="token keyword"${t}>from</span> <span class="token string"${t}>&#39;quasar&#39;</span>

LocalStorage<span class="token punctuation"${t}>.</span><span class="token function"${t}>set</span><span class="token punctuation"${t}>(</span>key<span class="token punctuation"${t}>,</span> value<span class="token punctuation"${t}>)</span>
<span class="token keyword"${t}>let</span> value <span class="token operator"${t}>=</span> LocalStorage<span class="token punctuation"${t}>.</span><span class="token function"${t}>getItem</span><span class="token punctuation"${t}>(</span>key<span class="token punctuation"${t}>)</span>

SessionStorage<span class="token punctuation"${t}>.</span><span class="token function"${t}>set</span><span class="token punctuation"${t}>(</span>key<span class="token punctuation"${t}>,</span> value<span class="token punctuation"${t}>)</span>
<span class="token keyword"${t}>let</span> value <span class="token operator"${t}>=</span> SessionStorage<span class="token punctuation"${t}>.</span><span class="token function"${t}>getItem</span><span class="token punctuation"${t}>(</span>key<span class="token punctuation"${t}>)</span></code></pre>`),e(l(c,null,null,r,t));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" LocalStorage"),n("span",{class:"token punctuation"},","),a(" SessionStorage "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'quasar'"),a(`

LocalStorage`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},","),a(" value"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"let"),a(" value "),n("span",{class:"token operator"},"="),a(" LocalStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getItem"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},")"),a(`

SessionStorage`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},","),a(" value"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"let"),a(" value "),n("span",{class:"token operator"},"="),a(" SessionStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getItem"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},")")])]),n(c)]}),_:1},i,s)),o(l(p(k),{title:"Inside of a Vue file"},{default:u((g,e,r,t)=>{if(e)e(`<pre class="doc-code"${t}><code${t}><span class="token keyword"${t}>import</span> <span class="token punctuation"${t}>{</span> useQuasar <span class="token punctuation"${t}>}</span> <span class="token keyword"${t}>from</span> <span class="token string"${t}>&#39;quasar&#39;</span>

<span class="token function"${t}>setup</span> <span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span> <span class="token punctuation"${t}>{</span>
  <span class="token keyword"${t}>const</span> $q <span class="token operator"${t}>=</span> <span class="token function"${t}>useQuasar</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>)</span>

  $q<span class="token punctuation"${t}>.</span>localStorage<span class="token punctuation"${t}>.</span><span class="token function"${t}>set</span><span class="token punctuation"${t}>(</span>key<span class="token punctuation"${t}>,</span> value<span class="token punctuation"${t}>)</span>
  <span class="token keyword"${t}>const</span> value <span class="token operator"${t}>=</span> $q<span class="token punctuation"${t}>.</span>localStorage<span class="token punctuation"${t}>.</span><span class="token function"${t}>getItem</span><span class="token punctuation"${t}>(</span>key<span class="token punctuation"${t}>)</span>

  $q<span class="token punctuation"${t}>.</span>sessionStorage<span class="token punctuation"${t}>.</span><span class="token function"${t}>set</span><span class="token punctuation"${t}>(</span>key<span class="token punctuation"${t}>,</span> value<span class="token punctuation"${t}>)</span>
  <span class="token keyword"${t}>const</span> otherValue <span class="token operator"${t}>=</span> $q<span class="token punctuation"${t}>.</span>sessionStorage<span class="token punctuation"${t}>.</span><span class="token function"${t}>getItem</span><span class="token punctuation"${t}>(</span>key<span class="token punctuation"${t}>)</span>
<span class="token punctuation"${t}>}</span></code></pre>`),e(l(c,null,null,r,t));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" useQuasar "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'quasar'"),a(`

`),n("span",{class:"token function"},"setup"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token keyword"},"const"),a(" $q "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"useQuasar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`

  $q`),n("span",{class:"token punctuation"},"."),a("localStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},","),a(" value"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token keyword"},"const"),a(" value "),n("span",{class:"token operator"},"="),a(" $q"),n("span",{class:"token punctuation"},"."),a("localStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getItem"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},")"),a(`

  $q`),n("span",{class:"token punctuation"},"."),a("sessionStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},","),a(" value"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token keyword"},"const"),a(" otherValue "),n("span",{class:"token operator"},"="),a(" $q"),n("span",{class:"token punctuation"},"."),a("sessionStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getItem"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(c)]}),_:1},i,s)),o(`<p${s}>For a bulletproof approach when setting a value, it’s best to also catch any potential errors raised by the underlying Local/Session Storage Web API, like when exceeding quota:</p>`),o(l(p(k),null,{default:u((g,e,r,t)=>{if(e)e(`<pre class="doc-code"${t}><code${t}><span class="token keyword"${t}>try</span> <span class="token punctuation"${t}>{</span>
  $q<span class="token punctuation"${t}>.</span>localStorage<span class="token punctuation"${t}>.</span><span class="token function"${t}>set</span><span class="token punctuation"${t}>(</span>key<span class="token punctuation"${t}>,</span> value<span class="token punctuation"${t}>)</span>
<span class="token punctuation"${t}>}</span> <span class="token keyword"${t}>catch</span> <span class="token punctuation"${t}>(</span>e<span class="token punctuation"${t}>)</span> <span class="token punctuation"${t}>{</span>
  <span class="token comment"${t}>// data wasn&#39;t successfully saved due to</span>
  <span class="token comment"${t}>// a Web Storage API error</span>
<span class="token punctuation"${t}>}</span></code></pre>`),e(l(c,null,null,r,t));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"try"),a(),n("span",{class:"token punctuation"},"{"),a(`
  $q`),n("span",{class:"token punctuation"},"."),a("localStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},","),a(" value"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"catch"),a(),n("span",{class:"token punctuation"},"("),a("e"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token comment"},"// data wasn't successfully saved due to"),a(`
  `),n("span",{class:"token comment"},"// a Web Storage API error"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(c)]}),_:1},i,s)),o(`<div class="doc-note doc-note--tip"${s}><p class="doc-note__title"${s}>TIP</p><p${s}>For an exhaustive list of methods, please check the API section.</p></div><h2 id="data-types" class="doc-heading doc-h2"${s}>Data Types</h2><p${s}>Quasar Storage supports (but not limited to) the following data types out of the box. If you store one of these types, the retrieved data will have the same data type.</p><ul${s}><li${s}>Dates</li><li${s}>Regular Expressions</li><li${s}>Numbers</li><li${s}>Booleans</li><li${s}>Strings</li><li${s}>Plain Javascript Objects</li></ul><p${s}>If you store any <em${s}>other</em> data type, the returned value will be a String.</p><p${s}>So you can even store functions, but be careful that you need to eval() the returned value (which is a String representation of the function).</p>`);else return[n("p",null,[a("Quasar provides a wrapper over "),n(v,{to:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API"},{default:u(()=>[a("Web Storage API")]),_:1}),a(".")]),n("div",{class:"doc-note doc-note--tip"},[n("p",{class:"doc-note__title"},"TIP"),n("p",null,[a("Web Storage API only retrieves strings. "),n("strong",null,"Quasar retrieves data with its original data type."),a(" You tell it to store a Number then to retrieve it and it will still be a Number, not a string representation of the number as with Web Storage API. Same for JSON, Regular Expressions, Dates, Booleans and so on.")])]),n("div",{class:"doc-note doc-note--danger"},[n("p",{class:"doc-note__title"},"Note about SSR"),n("p",null,"When running the code server-side on SSR builds, this feature can’t work. Web Storage is a browser API only. You can however make use of it on the client-side with SSR.")]),n($,{file:"LocalStorage"}),n($,{file:"SessionStorage"}),n(w,{plugins:["LocalStorage","SessionStorage"]}),n("h2",{id:"usage",class:"doc-heading doc-h2",onClick:g=>p(d)("usage")},"Usage",8,["onClick"]),n(p(k),{title:"Outside of a Vue file"},{default:u(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" LocalStorage"),n("span",{class:"token punctuation"},","),a(" SessionStorage "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'quasar'"),a(`

LocalStorage`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},","),a(" value"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"let"),a(" value "),n("span",{class:"token operator"},"="),a(" LocalStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getItem"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},")"),a(`

SessionStorage`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},","),a(" value"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"let"),a(" value "),n("span",{class:"token operator"},"="),a(" SessionStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getItem"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},")")])]),n(c)]),_:1}),n(p(k),{title:"Inside of a Vue file"},{default:u(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" useQuasar "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'quasar'"),a(`

`),n("span",{class:"token function"},"setup"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token keyword"},"const"),a(" $q "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"useQuasar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`

  $q`),n("span",{class:"token punctuation"},"."),a("localStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},","),a(" value"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token keyword"},"const"),a(" value "),n("span",{class:"token operator"},"="),a(" $q"),n("span",{class:"token punctuation"},"."),a("localStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getItem"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},")"),a(`

  $q`),n("span",{class:"token punctuation"},"."),a("sessionStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},","),a(" value"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token keyword"},"const"),a(" otherValue "),n("span",{class:"token operator"},"="),a(" $q"),n("span",{class:"token punctuation"},"."),a("sessionStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getItem"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(c)]),_:1}),n("p",null,"For a bulletproof approach when setting a value, it’s best to also catch any potential errors raised by the underlying Local/Session Storage Web API, like when exceeding quota:"),n(p(k),null,{default:u(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"try"),a(),n("span",{class:"token punctuation"},"{"),a(`
  $q`),n("span",{class:"token punctuation"},"."),a("localStorage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),a("key"),n("span",{class:"token punctuation"},","),a(" value"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"catch"),a(),n("span",{class:"token punctuation"},"("),a("e"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token comment"},"// data wasn't successfully saved due to"),a(`
  `),n("span",{class:"token comment"},"// a Web Storage API error"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(c)]),_:1}),n("div",{class:"doc-note doc-note--tip"},[n("p",{class:"doc-note__title"},"TIP"),n("p",null,"For an exhaustive list of methods, please check the API section.")]),n("h2",{id:"data-types",class:"doc-heading doc-h2",onClick:g=>p(d)("data-types")},"Data Types",8,["onClick"]),n("p",null,"Quasar Storage supports (but not limited to) the following data types out of the box. If you store one of these types, the retrieved data will have the same data type."),n("ul",null,[n("li",null,"Dates"),n("li",null,"Regular Expressions"),n("li",null,"Numbers"),n("li",null,"Booleans"),n("li",null,"Strings"),n("li",null,"Plain Javascript Objects")]),n("p",null,[a("If you store any "),n("em",null,"other"),a(" data type, the returned value will be a String.")]),n("p",null,"So you can even store functions, but be careful that you need to eval() the returned value (which is a String representation of the function).")]}),_:1},P))}}},h=y.setup;y.setup=(m,f)=>{const S=W();return(S.modules||(S.modules=new Set)).add("src/pages/quasar-plugins/web-storage.md"),h?h(m,f):void 0};const Z=x(y,[["__file","web-storage.md"]]);export{Z as default};
