import{mergeProps as G,withCtx as p,createTextVNode as a,unref as g,createVNode as n,useSSRContext as C}from"vue";import{ssrRenderComponent as l}from"vue/server-renderer";import{c as f}from"./page-utils-C-QWsEHe.js";import{D as P,a as c}from"./DocPage-DKr-0pQn.js";import{D as y}from"./DocPrerender-DPOnWPFO.js";import{C as k}from"./CopyButton-l3ndfN49.js";import{_ as q}from"../server-entry.js";import"quasar";import"@quasar/extras/mdi-v6";import"vue-router";import"@quasar/extras/fontawesome-v5";import"@quasar/extras/fontawesome-v6";import"@quasar/extras/mdi-v7";import"quasar/icon-set/svg-mdi-v6.mjs";const $={__name:"managing-google-analytics",__ssrInlineRender:!0,setup(w){const d=[{id:"prerequisites",title:"2. Prerequisites"},{id:"preparation",title:"3. Preparation"},{id:"implementing-this-into-application",title:"4. Implementing this into application"}];return(m,v,b,A)=>{v(l(P,G({title:"Managing Google Analytics",desc:"(@quasar/app-webpack) How to use analytics in a Quasar hybrid mobile app with Capacitor.",overline:"Quasar CLI with Webpack - @quasar/app-webpack",heading:"","edit-link":"quasar-cli-webpack/developing-capacitor-apps/managing-google-analytics",toc:d},A),{default:p((x,e,u,s)=>{if(e)e(`<p${s}>Getting to know your users and measuring user behavior is an important step in App Development. Unfortunately, it takes a bit of non-standard work to get Google Analytics to work after wrapping your mobile app with Capacitor. Setting up Google Analytics in a pure web application is quite easy, but Capacitor somehow prevents pageviews and events from being sent to Google Analytics.</p><p${s}>Follow this guide to implement Google Analytics into your Capacitor powered Quasar App.</p><p${s}>You may also want to read this great tutorial: `),e(l(c,{to:"https://jannerantala.com/tutorials/quasar-framework-google-tag-manager-and-analytics-setup-for-an-spa-website/"},{default:p((r,o,i,t)=>{if(o)o("Google Tag Manager and Analytics Setup for an SPA Website");else return[a("Google Tag Manager and Analytics Setup for an SPA Website")]}),_:1},u,s)),e(`</p><div class="doc-note doc-note--warning"${s}><p class="doc-note__title"${s}>WARNING</p><p${s}>You’ll need to include a <code class="doc-token"${s}>&lt;script&gt;</code> tag provided by Google in /index.html or /src/index.template.html, which will make your App depend on an Internet connection!</p></div><h2 id="prerequisites" class="doc-heading doc-h2"${s}>Prerequisites</h2><ul${s}><li${s}>Make sure all your routes have a name and path parameter specified. Otherwise, they cannot be posted to the <code class="doc-token"${s}>ga.logPage</code> function. Please refer to `),e(l(c,{to:"/quasar-cli-webpack/routing"},{default:p((r,o,i,t)=>{if(o)o("Routing");else return[a("Routing")]}),_:1},u,s)),e(` for more info on routing.</li><li${s}>Have Basic knowledge of Google Analytics</li></ul><h2 id="preparation" class="doc-heading doc-h2"${s}>Preparation</h2><p${s}>Before we can start implementing Google Analytics into your application, you’ll need an account for `),e(l(c,{to:"https://analytics.google.com"},{default:p((r,o,i,t)=>{if(o)o("Google Analytics");else return[a("Google Analytics")]}),_:1},u,s)),e(" and "),e(l(c,{to:"https://tagmanager.google.com/"},{default:p((r,o,i,t)=>{if(o)o("Google Tagmanager");else return[a("Google Tagmanager")]}),_:1},u,s)),e(". So let’s do that first. When you have these accounts, it’s time to configure Tag manager. Follow the steps in this "),e(l(c,{to:"https://www.multiminds.eu/blog/2016/12/google-analytics-and-tag-manager-with-ionic-and-cordova-apps/"},{default:p((r,o,i,t)=>{if(o)o("Multiminds article");else return[a("Multiminds article")]}),_:1},u,s)),e(` to do so.</p><h2 id="implementing-this-into-application" class="doc-heading doc-h2"${s}>Implementing this into application</h2><blockquote class="doc-note"${s}><p${s}>For this guide, we’ll assume you have a fixed sessionId that you send to Google Analytics. Google Analytics uses a sessionId to distinguish different users from each other. If you want to create an anonymous sessionId, see `),e(l(c,{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/cookies-user-id"},{default:p((r,o,i,t)=>{if(o)o("Analytics Documentation on user id");else return[a("Analytics Documentation on user id")]}),_:1},u,s)),e(`.</p></blockquote><p${s}>Place the Tag Manager snippet into head of your <code class="doc-token"${s}>index.html</code> file (if you’ve followed the `),e(l(c,{to:"http://www.multiminds.eu/2016/12/06/google-analytics-tag-manager-ionic-cordova/"},{default:p((r,o,i,t)=>{if(o)o("Multiminds article");else return[a("Multiminds article")]}),_:1},u,s)),e(`, you already have this.) Create a new file in your codebase called <code class="doc-token"${s}>analytics.js</code> with the following contents:</p>`),e(l(g(y),null,{default:p((r,o,i,t)=>{if(o)o(`<pre class="doc-code"${t}><code${t}><span class="token keyword"${t}>export</span> <span class="token keyword"${t}>default</span> <span class="token punctuation"${t}>{</span>
  <span class="token function"${t}>logEvent</span><span class="token punctuation"${t}>(</span><span class="token parameter"${t}>category<span class="token punctuation"${t}>,</span> action<span class="token punctuation"${t}>,</span> label<span class="token punctuation"${t}>,</span> sessionId <span class="token operator"${t}>=</span> <span class="token keyword"${t}>null</span></span><span class="token punctuation"${t}>)</span> <span class="token punctuation"${t}>{</span>
    window<span class="token punctuation"${t}>.</span>dataLayer<span class="token punctuation"${t}>.</span><span class="token function"${t}>push</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>{</span>
      <span class="token literal-property property"${t}>appEventCategory</span><span class="token operator"${t}>:</span> category<span class="token punctuation"${t}>,</span>
      <span class="token literal-property property"${t}>appEventAction</span><span class="token operator"${t}>:</span> action<span class="token punctuation"${t}>,</span>
      <span class="token literal-property property"${t}>appEventLabel</span><span class="token operator"${t}>:</span> label<span class="token punctuation"${t}>,</span>
      <span class="token literal-property property"${t}>sessionId</span><span class="token operator"${t}>:</span> sessionId
    <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>)</span>
    window<span class="token punctuation"${t}>.</span>dataLayer<span class="token punctuation"${t}>.</span><span class="token function"${t}>push</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>{</span> <span class="token string-property property"${t}>&#39;event&#39;</span><span class="token operator"${t}>:</span> <span class="token string"${t}>&#39;appEvent&#39;</span> <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>)</span>
  <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>,</span>

  <span class="token function"${t}>logPage</span><span class="token punctuation"${t}>(</span><span class="token parameter"${t}>path<span class="token punctuation"${t}>,</span> name<span class="token punctuation"${t}>,</span> sessionId <span class="token operator"${t}>=</span> <span class="token keyword"${t}>null</span></span><span class="token punctuation"${t}>)</span> <span class="token punctuation"${t}>{</span>
    window<span class="token punctuation"${t}>.</span>dataLayer<span class="token punctuation"${t}>.</span><span class="token function"${t}>push</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>{</span>
      <span class="token literal-property property"${t}>screenPath</span><span class="token operator"${t}>:</span> path<span class="token punctuation"${t}>,</span>
      <span class="token literal-property property"${t}>screenName</span><span class="token operator"${t}>:</span> name<span class="token punctuation"${t}>,</span>
      <span class="token literal-property property"${t}>sessionId</span><span class="token operator"${t}>:</span> sessionId
    <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>)</span>
    window<span class="token punctuation"${t}>.</span>dataLayer<span class="token punctuation"${t}>.</span><span class="token function"${t}>push</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>{</span> <span class="token string-property property"${t}>&#39;event&#39;</span><span class="token operator"${t}>:</span> <span class="token string"${t}>&#39;appScreenView&#39;</span> <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>)</span>
  <span class="token punctuation"${t}>}</span>
<span class="token punctuation"${t}>}</span></code></pre>`),o(l(k,null,null,i,t));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token function"},"logEvent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[a("category"),n("span",{class:"token punctuation"},","),a(" action"),n("span",{class:"token punctuation"},","),a(" label"),n("span",{class:"token punctuation"},","),a(" sessionId "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token keyword"},"null")]),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
    window`),n("span",{class:"token punctuation"},"."),a("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"appEventCategory"),n("span",{class:"token operator"},":"),a(" category"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"appEventAction"),n("span",{class:"token operator"},":"),a(" action"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"appEventLabel"),n("span",{class:"token operator"},":"),a(" label"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"sessionId"),n("span",{class:"token operator"},":"),a(` sessionId
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
    window`),n("span",{class:"token punctuation"},"."),a("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token string-property property"},"'event'"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token string"},"'appEvent'"),a(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`

  `),n("span",{class:"token function"},"logPage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[a("path"),n("span",{class:"token punctuation"},","),a(" name"),n("span",{class:"token punctuation"},","),a(" sessionId "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token keyword"},"null")]),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
    window`),n("span",{class:"token punctuation"},"."),a("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"screenPath"),n("span",{class:"token operator"},":"),a(" path"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"screenName"),n("span",{class:"token operator"},":"),a(" name"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"sessionId"),n("span",{class:"token operator"},":"),a(` sessionId
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
    window`),n("span",{class:"token punctuation"},"."),a("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token string-property property"},"'event'"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token string"},"'appScreenView'"),a(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(k)]}),_:1},u,s)),e(`<p${s}>To make sure all the pages in your application are automatically posted to Google Analytics, we create an app boot file:</p>`),e(l(g(y),null,{default:p((r,o,i,t)=>{if(o)o(`<pre class="doc-code"${t}><code${t}>$ quasar new boot google-analytics <span class="token punctuation"${t}>[</span>--format ts<span class="token punctuation"${t}>]</span></code></pre>`),o(l(k,{lang:"bash"},null,i,t));else return[n("pre",{class:"doc-code"},[n("code",null,[a("$ quasar new boot google-analytics "),n("span",{class:"token punctuation"},"["),a("--format ts"),n("span",{class:"token punctuation"},"]")])]),n(k,{lang:"bash"})]}),_:1},u,s)),e(`<p${s}>Then we edit the newly created file: <code class="doc-token"${s}>/src/boot/google-analytics.js</code>:</p>`),e(l(g(y),null,{default:p((r,o,i,t)=>{if(o)o(`<pre class="doc-code"${t}><code${t}><span class="token keyword"${t}>import</span> ga <span class="token keyword"${t}>from</span> <span class="token string"${t}>&#39;analytics.js&#39;</span>

<span class="token keyword"${t}>export</span> <span class="token keyword"${t}>default</span> <span class="token punctuation"${t}>(</span><span class="token parameter"${t}><span class="token punctuation"${t}>{</span> router <span class="token punctuation"${t}>}</span></span><span class="token punctuation"${t}>)</span> <span class="token operator"${t}>=&gt;</span> <span class="token punctuation"${t}>{</span>
  router<span class="token punctuation"${t}>.</span><span class="token function"${t}>afterEach</span><span class="token punctuation"${t}>(</span><span class="token punctuation"${t}>(</span><span class="token parameter"${t}>to<span class="token punctuation"${t}>,</span> <span class="token keyword"${t}>from</span></span><span class="token punctuation"${t}>)</span> <span class="token operator"${t}>=&gt;</span> <span class="token punctuation"${t}>{</span>
    ga<span class="token punctuation"${t}>.</span><span class="token function"${t}>logPage</span><span class="token punctuation"${t}>(</span>to<span class="token punctuation"${t}>.</span>path<span class="token punctuation"${t}>,</span> to<span class="token punctuation"${t}>.</span>name<span class="token punctuation"${t}>,</span> sessionId<span class="token punctuation"${t}>)</span>
  <span class="token punctuation"${t}>}</span><span class="token punctuation"${t}>)</span>
<span class="token punctuation"${t}>}</span></code></pre>`),o(l(k,null,null,i,t));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(" ga "),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'analytics.js'"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token punctuation"},"{"),a(" router "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
  router`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"afterEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[a("to"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token keyword"},"from")]),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
    ga`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"logPage"),n("span",{class:"token punctuation"},"("),a("to"),n("span",{class:"token punctuation"},"."),a("path"),n("span",{class:"token punctuation"},","),a(" to"),n("span",{class:"token punctuation"},"."),a("name"),n("span",{class:"token punctuation"},","),a(" sessionId"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(k)]}),_:1},u,s)),e(`<p${s}>Finally we register the app boot file in the <code class="doc-token"${s}>/quasar.config</code> file. We can do so only for Capacitor wrapped apps if we want:</p>`),e(l(g(y),null,{default:p((r,o,i,t)=>{if(o)o(`<pre class="doc-code"${t}><code${t}><span class="token literal-property property"${t}>boot</span><span class="token operator"${t}>:</span> <span class="token punctuation"${t}>[</span>
  ctx<span class="token punctuation"${t}>.</span>mode<span class="token punctuation"${t}>.</span>capacitor <span class="token operator"${t}>?</span> <span class="token string"${t}>&#39;google-analytics&#39;</span> <span class="token operator"${t}>:</span> <span class="token string"${t}>&#39;&#39;</span>
<span class="token punctuation"${t}>]</span></code></pre>`),o(l(k,null,null,i,t));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token literal-property property"},"boot"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"["),a(`
  ctx`),n("span",{class:"token punctuation"},"."),a("mode"),n("span",{class:"token punctuation"},"."),a("capacitor "),n("span",{class:"token operator"},"?"),a(),n("span",{class:"token string"},"'google-analytics'"),a(),n("span",{class:"token operator"},":"),a(),n("span",{class:"token string"},"''"),a(`
`),n("span",{class:"token punctuation"},"]")])]),n(k)]}),_:1},u,s)),e(`<p${s}>More information about events can be found in the `),e(l(c,{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/events"},{default:p((r,o,i,t)=>{if(o)o("Analytics documentation on events");else return[a("Analytics documentation on events")]}),_:1},u,s)),e(`.</p><p${s}>You’ll see the events and pageviews coming in when you run your app. It usually takes around 5 to 10 seconds for a pageview to be registered in the realtime view.</p>`);else return[n("p",null,"Getting to know your users and measuring user behavior is an important step in App Development. Unfortunately, it takes a bit of non-standard work to get Google Analytics to work after wrapping your mobile app with Capacitor. Setting up Google Analytics in a pure web application is quite easy, but Capacitor somehow prevents pageviews and events from being sent to Google Analytics."),n("p",null,"Follow this guide to implement Google Analytics into your Capacitor powered Quasar App."),n("p",null,[a("You may also want to read this great tutorial: "),n(c,{to:"https://jannerantala.com/tutorials/quasar-framework-google-tag-manager-and-analytics-setup-for-an-spa-website/"},{default:p(()=>[a("Google Tag Manager and Analytics Setup for an SPA Website")]),_:1})]),n("div",{class:"doc-note doc-note--warning"},[n("p",{class:"doc-note__title"},"WARNING"),n("p",null,[a("You’ll need to include a "),n("code",{class:"doc-token"},"<script>"),a(" tag provided by Google in /index.html or /src/index.template.html, which will make your App depend on an Internet connection!")])]),n("h2",{id:"prerequisites",class:"doc-heading doc-h2",onClick:r=>g(f)("prerequisites")},"Prerequisites",8,["onClick"]),n("ul",null,[n("li",null,[a("Make sure all your routes have a name and path parameter specified. Otherwise, they cannot be posted to the "),n("code",{class:"doc-token"},"ga.logPage"),a(" function. Please refer to "),n(c,{to:"/quasar-cli-webpack/routing"},{default:p(()=>[a("Routing")]),_:1}),a(" for more info on routing.")]),n("li",null,"Have Basic knowledge of Google Analytics")]),n("h2",{id:"preparation",class:"doc-heading doc-h2",onClick:r=>g(f)("preparation")},"Preparation",8,["onClick"]),n("p",null,[a("Before we can start implementing Google Analytics into your application, you’ll need an account for "),n(c,{to:"https://analytics.google.com"},{default:p(()=>[a("Google Analytics")]),_:1}),a(" and "),n(c,{to:"https://tagmanager.google.com/"},{default:p(()=>[a("Google Tagmanager")]),_:1}),a(". So let’s do that first. When you have these accounts, it’s time to configure Tag manager. Follow the steps in this "),n(c,{to:"https://www.multiminds.eu/blog/2016/12/google-analytics-and-tag-manager-with-ionic-and-cordova-apps/"},{default:p(()=>[a("Multiminds article")]),_:1}),a(" to do so.")]),n("h2",{id:"implementing-this-into-application",class:"doc-heading doc-h2",onClick:r=>g(f)("implementing-this-into-application")},"Implementing this into application",8,["onClick"]),n("blockquote",{class:"doc-note"},[n("p",null,[a("For this guide, we’ll assume you have a fixed sessionId that you send to Google Analytics. Google Analytics uses a sessionId to distinguish different users from each other. If you want to create an anonymous sessionId, see "),n(c,{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/cookies-user-id"},{default:p(()=>[a("Analytics Documentation on user id")]),_:1}),a(".")])]),n("p",null,[a("Place the Tag Manager snippet into head of your "),n("code",{class:"doc-token"},"index.html"),a(" file (if you’ve followed the "),n(c,{to:"http://www.multiminds.eu/2016/12/06/google-analytics-tag-manager-ionic-cordova/"},{default:p(()=>[a("Multiminds article")]),_:1}),a(", you already have this.) Create a new file in your codebase called "),n("code",{class:"doc-token"},"analytics.js"),a(" with the following contents:")]),n(g(y),null,{default:p(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token function"},"logEvent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[a("category"),n("span",{class:"token punctuation"},","),a(" action"),n("span",{class:"token punctuation"},","),a(" label"),n("span",{class:"token punctuation"},","),a(" sessionId "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token keyword"},"null")]),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
    window`),n("span",{class:"token punctuation"},"."),a("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"appEventCategory"),n("span",{class:"token operator"},":"),a(" category"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"appEventAction"),n("span",{class:"token operator"},":"),a(" action"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"appEventLabel"),n("span",{class:"token operator"},":"),a(" label"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"sessionId"),n("span",{class:"token operator"},":"),a(` sessionId
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
    window`),n("span",{class:"token punctuation"},"."),a("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token string-property property"},"'event'"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token string"},"'appEvent'"),a(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`

  `),n("span",{class:"token function"},"logPage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[a("path"),n("span",{class:"token punctuation"},","),a(" name"),n("span",{class:"token punctuation"},","),a(" sessionId "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token keyword"},"null")]),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
    window`),n("span",{class:"token punctuation"},"."),a("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"screenPath"),n("span",{class:"token operator"},":"),a(" path"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"screenName"),n("span",{class:"token operator"},":"),a(" name"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"sessionId"),n("span",{class:"token operator"},":"),a(` sessionId
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
    window`),n("span",{class:"token punctuation"},"."),a("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token string-property property"},"'event'"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token string"},"'appScreenView'"),a(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(k)]),_:1}),n("p",null,"To make sure all the pages in your application are automatically posted to Google Analytics, we create an app boot file:"),n(g(y),null,{default:p(()=>[n("pre",{class:"doc-code"},[n("code",null,[a("$ quasar new boot google-analytics "),n("span",{class:"token punctuation"},"["),a("--format ts"),n("span",{class:"token punctuation"},"]")])]),n(k,{lang:"bash"})]),_:1}),n("p",null,[a("Then we edit the newly created file: "),n("code",{class:"doc-token"},"/src/boot/google-analytics.js"),a(":")]),n(g(y),null,{default:p(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(" ga "),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'analytics.js'"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token punctuation"},"{"),a(" router "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
  router`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"afterEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[a("to"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token keyword"},"from")]),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
    ga`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"logPage"),n("span",{class:"token punctuation"},"("),a("to"),n("span",{class:"token punctuation"},"."),a("path"),n("span",{class:"token punctuation"},","),a(" to"),n("span",{class:"token punctuation"},"."),a("name"),n("span",{class:"token punctuation"},","),a(" sessionId"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(k)]),_:1}),n("p",null,[a("Finally we register the app boot file in the "),n("code",{class:"doc-token"},"/quasar.config"),a(" file. We can do so only for Capacitor wrapped apps if we want:")]),n(g(y),null,{default:p(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token literal-property property"},"boot"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"["),a(`
  ctx`),n("span",{class:"token punctuation"},"."),a("mode"),n("span",{class:"token punctuation"},"."),a("capacitor "),n("span",{class:"token operator"},"?"),a(),n("span",{class:"token string"},"'google-analytics'"),a(),n("span",{class:"token operator"},":"),a(),n("span",{class:"token string"},"''"),a(`
`),n("span",{class:"token punctuation"},"]")])]),n(k)]),_:1}),n("p",null,[a("More information about events can be found in the "),n(c,{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/events"},{default:p(()=>[a("Analytics documentation on events")]),_:1}),a(".")]),n("p",null,"You’ll see the events and pageviews coming in when you run your app. It usually takes around 5 to 10 seconds for a pageview to be registered in the realtime view.")]}),_:1},b))}}},h=$.setup;$.setup=(w,d)=>{const m=C();return(m.modules||(m.modules=new Set)).add("src/pages/quasar-cli-webpack/developing-capacitor-apps/managing-google-analytics.md"),h?h(w,d):void 0};const H=q($,[["__file","managing-google-analytics.md"]]);export{H as default};
