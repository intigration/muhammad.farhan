import{useSSRContext as Z,ref as S,watch as ce,computed as te,resolveComponent as v,withCtx as e,unref as le,createVNode as a,toDisplayString as R,openBlock as i,createBlock as d,Fragment as U,renderList as P,onMounted as me,mergeProps as de,createTextVNode as L}from"vue";import{ssrRenderAttrs as _e,ssrRenderComponent as s,ssrRenderList as W,ssrInterpolate as X}from"vue/server-renderer";import{date as ve}from"quasar";import{D as pe,a as J}from"./DocPage-DKr-0pQn.js";import{mdiMagnify as ne}from"@quasar/extras/mdi-v6";import{_ as N}from"../server-entry.js";import"vue-router";import"@quasar/extras/fontawesome-v5";import"@quasar/extras/fontawesome-v6";import"@quasar/extras/mdi-v7";import"quasar/icon-set/svg-mdi-v6.mjs";const I={__name:"PackageReleases",__ssrInlineRender:!0,props:["releases"],setup(H){const f=H,u=S(""),m=S(q());ce(()=>f.releases,()=>{m.value=q()});function q(){return f.releases[0].version}const g=te(()=>{if(u.value){const y=u.value.toLowerCase();return f.releases.filter(t=>t.version.indexOf(y)!==-1||t.body.toLowerCase().indexOf(y)!==-1)}return f.releases}),_=te(()=>{const{body:y}=f.releases.find(t=>t.version===m.value);return y});return(y,t,$,k)=>{const O=v("q-input"),C=v("q-icon"),G=v("q-separator"),B=v("q-splitter"),h=v("q-scroll-area"),Y=v("q-tabs"),Q=v("q-tab"),F=v("q-tab-panels"),j=v("q-tab-panel");t(`<div${_e(k)}>`),t(s(O,{class:"header-toolbar q-px-md",modelValue:u.value,"onUpdate:modelValue":T=>u.value=T,dense:"",square:"",borderless:"",color:"white",placeholder:"Search...",clearable:""},{prepend:e((T,M,b,V)=>{if(M)M(s(C,{name:le(ne)},null,b,V));else return[a(C,{name:le(ne)},null,8,["name"])]}),_:1},$)),t(s(G,null,null,$)),t(s(B,{class:"release__splitter","model-value":20,limits:[14,90]},{before:e((T,M,b,V)=>{if(M)M(s(h,null,{default:e((o,l,r,x)=>{if(l)l(s(Y,{class:"header-tabs",vertical:"",modelValue:m.value,"onUpdate:modelValue":n=>m.value=n,"active-color":"brand-primary","indicator-color":"brand-primary"},{default:e((n,c,w,z)=>{if(c)c("<!--[-->"),W(g.value,p=>{c(s(Q,{class:"header-btn",key:p.version,name:p.version,"no-caps":""},{default:e((A,D,ue,E)=>{if(D)D(`<div class="release__tab-label q-pt-xs"${E}>${X(p.version)}</div><div class="release__tab-date q-pb-xs"${E}>${X(p.date)}</div>`);else return[a("div",{class:"release__tab-label q-pt-xs"},R(p.version),1),a("div",{class:"release__tab-date q-pb-xs"},R(p.date),1)]}),_:2},w,z))}),c("<!--]-->");else return[(i(!0),d(U,null,P(g.value,p=>(i(),d(Q,{class:"header-btn",key:p.version,name:p.version,"no-caps":""},{default:e(()=>[a("div",{class:"release__tab-label q-pt-xs"},R(p.version),1),a("div",{class:"release__tab-date q-pb-xs"},R(p.date),1)]),_:2},1032,["name"]))),128))]}),_:1},r,x));else return[a(Y,{class:"header-tabs",vertical:"",modelValue:m.value,"onUpdate:modelValue":n=>m.value=n,"active-color":"brand-primary","indicator-color":"brand-primary"},{default:e(()=>[(i(!0),d(U,null,P(g.value,n=>(i(),d(Q,{class:"header-btn",key:n.version,name:n.version,"no-caps":""},{default:e(()=>[a("div",{class:"release__tab-label q-pt-xs"},R(n.version),1),a("div",{class:"release__tab-date q-pb-xs"},R(n.date),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])]}),_:1},b,V));else return[a(h,null,{default:e(()=>[a(Y,{class:"header-tabs",vertical:"",modelValue:m.value,"onUpdate:modelValue":o=>m.value=o,"active-color":"brand-primary","indicator-color":"brand-primary"},{default:e(()=>[(i(!0),d(U,null,P(g.value,o=>(i(),d(Q,{class:"header-btn",key:o.version,name:o.version,"no-caps":""},{default:e(()=>[a("div",{class:"release__tab-label q-pt-xs"},R(o.version),1),a("div",{class:"release__tab-date q-pb-xs"},R(o.date),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]}),after:e((T,M,b,V)=>{if(M)M(s(F,{class:"releases-container",modelValue:m.value,"onUpdate:modelValue":o=>m.value=o,animated:"","transition-prev":"slide-down","transition-next":"slide-up"},{default:e((o,l,r,x)=>{if(l)l("<!--[-->"),W(g.value,n=>{l(s(j,{class:"q-pa-none",key:n.version,name:n.version},{default:e((c,w,z,p)=>{if(w)w(s(h,null,{default:e((A,D,ue,E)=>{if(D)D(`<div class="release__body q-pa-md"${E}>${_.value}</div>`);else return[a("div",{class:"release__body q-pa-md",innerHTML:_.value},null,8,["innerHTML"])]}),_:2},z,p));else return[a(h,null,{default:e(()=>[a("div",{class:"release__body q-pa-md",innerHTML:_.value},null,8,["innerHTML"])]),_:1})]}),_:2},r,x))}),l("<!--]-->");else return[(i(!0),d(U,null,P(g.value,n=>(i(),d(j,{class:"q-pa-none",key:n.version,name:n.version},{default:e(()=>[a(h,null,{default:e(()=>[a("div",{class:"release__body q-pa-md",innerHTML:_.value},null,8,["innerHTML"])]),_:1})]),_:2},1032,["name"]))),128))]}),_:1},b,V));else return[a(F,{class:"releases-container",modelValue:m.value,"onUpdate:modelValue":o=>m.value=o,animated:"","transition-prev":"slide-down","transition-next":"slide-up"},{default:e(()=>[(i(!0),d(U,null,P(g.value,o=>(i(),d(j,{class:"q-pa-none",key:o.version,name:o.version},{default:e(()=>[a(h,null,{default:e(()=>[a("div",{class:"release__body q-pa-md",innerHTML:_.value},null,8,["innerHTML"])]),_:1})]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])]}),_:1},$)),t("</div>")}}},se=I.setup;I.setup=(H,f)=>{const u=Z();return(u.modules||(u.modules=new Set)).add("src/pages/start/release-notes/PackageReleases.vue"),se?se(H,f):void 0};const K=N(I,[["__file","PackageReleases.vue"]]),ee={__name:"QuasarReleases",__ssrInlineRender:!0,setup(H){const{extractDate:f}=ve,u=S(!0),m=S(!1),q=S("quasar"),g=S({}),_=S([]);function y(){fetch("https://cdn.quasar.dev/release-notes/v2.json").then(t=>t.json()).then(t=>{const $=Object.keys(t);for(const k of $)t[k].forEach(C=>{C.date=f(C.date,"YYYY-MM-DD").toLocaleDateString()});g.value=t,_.value=$,u.value=!1}).catch(t=>{console.error(t),m.value=!0})}return me(()=>{y()}),(t,$,k,O)=>{const C=v("q-card"),G=v("q-card-section"),B=v("q-icon"),h=v("q-spinner"),Y=v("q-tabs"),Q=v("q-tab"),F=v("q-separator"),j=v("q-tab-panels"),T=v("q-tab-panel");$(s(C,de({flat:"",bordered:""},O),{default:e((M,b,V,o)=>{if(b)m.value?b(s(G,{class:"row no-wrap items-center"},{default:e((l,r,x,n)=>{if(r)r(s(B,{class:"q-mr-md",name:"warning",size:"24px",color:"negative"},null,x,n)),r(`<div${n}>Cannot fetch the release notes. Please use the links above instead.</div>`);else return[a(B,{class:"q-mr-md",name:"warning",size:"24px",color:"negative"}),a("div",null,"Cannot fetch the release notes. Please use the links above instead.")]}),_:1},V,o)):u.value?b(s(G,{class:"row no-wrap items-center"},{default:e((l,r,x,n)=>{if(r)r(s(h,{class:"q-mr-md",size:"24px",color:"brand-primary"},null,x,n)),r(`<div${n}>Loading release notes...</div>`);else return[a(h,{class:"q-mr-md",size:"24px",color:"brand-primary"}),a("div",null,"Loading release notes...")]}),_:1},V,o)):(b("<!--[-->"),b(s(Y,{class:"header-tabs",modelValue:q.value,"onUpdate:modelValue":l=>q.value=l,"no-caps":"",align:"left","active-color":"brand-primary","indicator-color":"brand-primary"},{default:e((l,r,x,n)=>{if(r)r("<!--[-->"),W(_.value,c=>{r(s(Q,{class:"header-btn",name:c,key:c},{default:e((w,z,p,A)=>{if(z)z(`${X(c)}`);else return[L(R(c),1)]}),_:2},x,n))}),r("<!--]-->");else return[(i(!0),d(U,null,P(_.value,c=>(i(),d(Q,{class:"header-btn",name:c,key:c},{default:e(()=>[L(R(c),1)]),_:2},1032,["name"]))),128))]}),_:1},V,o)),b(s(F,null,null,V,o)),b(s(j,{class:"packages-container",modelValue:q.value,"onUpdate:modelValue":l=>q.value=l,animated:""},{default:e((l,r,x,n)=>{if(r)r("<!--[-->"),W(g.value,(c,w)=>{r(s(T,{class:"q-pa-none",key:w,name:w},{default:e((z,p,A,D)=>{if(p)p(s(K,{releases:c},null,A,D));else return[a(K,{releases:c},null,8,["releases"])]}),_:2},x,n))}),r("<!--]-->");else return[(i(!0),d(U,null,P(g.value,(c,w)=>(i(),d(T,{class:"q-pa-none",key:w,name:w},{default:e(()=>[a(K,{releases:c},null,8,["releases"])]),_:2},1032,["name"]))),128))]}),_:1},V,o)),b("<!--]-->"));else return[m.value?(i(),d(G,{key:0,class:"row no-wrap items-center"},{default:e(()=>[a(B,{class:"q-mr-md",name:"warning",size:"24px",color:"negative"}),a("div",null,"Cannot fetch the release notes. Please use the links above instead.")]),_:1})):u.value?(i(),d(G,{key:1,class:"row no-wrap items-center"},{default:e(()=>[a(h,{class:"q-mr-md",size:"24px",color:"brand-primary"}),a("div",null,"Loading release notes...")]),_:1})):(i(),d(U,{key:2},[a(Y,{class:"header-tabs",modelValue:q.value,"onUpdate:modelValue":l=>q.value=l,"no-caps":"",align:"left","active-color":"brand-primary","indicator-color":"brand-primary"},{default:e(()=>[(i(!0),d(U,null,P(_.value,l=>(i(),d(Q,{class:"header-btn",name:l,key:l},{default:e(()=>[L(R(l),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"]),a(F),a(j,{class:"packages-container",modelValue:q.value,"onUpdate:modelValue":l=>q.value=l,animated:""},{default:e(()=>[(i(!0),d(U,null,P(g.value,(l,r)=>(i(),d(T,{class:"q-pa-none",key:r,name:r},{default:e(()=>[a(K,{releases:l},null,8,["releases"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])],64))]}),_:1},k))}}},re=ee.setup;ee.setup=(H,f)=>{const u=Z();return(u.modules||(u.modules=new Set)).add("src/pages/start/release-notes/QuasarReleases.vue"),re?re(H,f):void 0};const oe=N(ee,[["__file","QuasarReleases.vue"]]),ae={__name:"release-notes",__ssrInlineRender:!0,setup(H){return(f,u,m,q)=>{u(s(pe,de({title:"Release Notes",desc:"The changelog for Quasar core packages.",heading:"","edit-link":"start/release-notes/release-notes"},q),{default:e((g,_,y,t)=>{if(_)_(`<p${t}>Release notes (with changelog) for Quasar core packages are available on `),_(s(J,{to:"https://github.com/quasarframework/quasar/releases"},{default:e(($,k,O,C)=>{if(k)k("GitHub Releases");else return[L("GitHub Releases")]}),_:1},y,t)),_(`.</p><p${t}>For all other packages, visit the `),_(s(J,{to:"https://github.com/quasarframework"},{default:e(($,k,O,C)=>{if(k)k("Quasar Organization");else return[L("Quasar Organization")]}),_:1},y,t)),_(" GitHub page and look for the repository that you are interested in then click on its “Releases”.</p>"),_(s(oe,null,null,y,t));else return[a("p",null,[L("Release notes (with changelog) for Quasar core packages are available on "),a(J,{to:"https://github.com/quasarframework/quasar/releases"},{default:e(()=>[L("GitHub Releases")]),_:1}),L(".")]),a("p",null,[L("For all other packages, visit the "),a(J,{to:"https://github.com/quasarframework"},{default:e(()=>[L("Quasar Organization")]),_:1}),L(" GitHub page and look for the repository that you are interested in then click on its “Releases”.")]),a(oe)]}),_:1},m))}}},ie=ae.setup;ae.setup=(H,f)=>{const u=Z();return(u.modules||(u.modules=new Set)).add("src/pages/start/release-notes/release-notes.md"),ie?ie(H,f):void 0};const $e=N(ae,[["__file","release-notes.md"]]);export{$e as default};
