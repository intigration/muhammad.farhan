import{mergeProps as h,withCtx as c,unref as l,createVNode as n,createTextVNode as a,useSSRContext as v}from"vue";import{ssrRenderComponent as u}from"vue/server-renderer";import"quasar";import{D as d}from"./DocPage-DKr-0pQn.js";import{D as r}from"./DocPrerender-DPOnWPFO.js";import{C as o}from"./CopyButton-l3ndfN49.js";import{_ as Q}from"../server-entry.js";import"@quasar/extras/mdi-v6";import"vue-router";import"@quasar/extras/fontawesome-v5";import"@quasar/extras/fontawesome-v6";import"@quasar/extras/mdi-v7";import"quasar/icon-set/svg-mdi-v6.mjs";const y={__name:"dom-hooks",__ssrInlineRender:!0,setup(m){return(w,i,g,q)=>{i(u(d,h({title:"DOM Hooks",desc:"(@quasar/app-webpack) How to communicate to the underlying web page using dom hooks in Quasar Browser Extension mode.",overline:"Quasar CLI with Webpack - @quasar/app-webpack",heading:"","edit-link":"quasar-cli-webpack/developing-browser-extensions/dom-hooks"},q),{default:c((x,e,$,p)=>{if(e)e(`<p${p}><code class="doc-token"${p}>src-bex/js/dom-hooks.js</code> is a javascript file that is injected into the underlying web page automatically by Quasar but as with all the other hook files has access to the bridge via:</p>`),e(u(l(r),null,{default:c((f,t,k,s)=>{if(t)t(`<pre class="doc-code"${s}><code${s}><span class="token keyword"${s}>import</span> <span class="token punctuation"${s}>{</span> bexDom <span class="token punctuation"${s}>}</span> <span class="token keyword"${s}>from</span> <span class="token string"${s}>&#39;quasar/wrappers&#39;</span>

<span class="token keyword"${s}>export</span> <span class="token keyword"${s}>default</span> <span class="token function"${s}>bexDom</span><span class="token punctuation"${s}>(</span><span class="token punctuation"${s}>(</span><span class="token parameter"${s}>bridge</span><span class="token punctuation"${s}>)</span> <span class="token operator"${s}>=&gt;</span> <span class="token punctuation"${s}>{</span>
  <span class="token comment"${s}>//</span>
<span class="token punctuation"${s}>}</span><span class="token punctuation"${s}>)</span></code></pre>`),t(u(o,null,null,k,s));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" bexDom "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'quasar/wrappers'"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token function"},"bexDom"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"bridge"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token comment"},"//"),a(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])]),n(o)]}),_:1},$,p)),e(`<p${p}>If you ever find yourself needing to inject a JS file into your underlying web page, you can use dom hooks instead as it means you can maintain that chain of communication in the BEX.</p><p${p}>For example, lets say you wanted to write a BEX that detects whether or not a Quasar app is running on a page, the only way to do this is by running some javascript in the context of the web page.</p>`),e(u(l(r),null,{default:c((f,t,k,s)=>{if(t)t(`<pre class="doc-code"${s}><code${s}><span class="token comment"${s}>// detect-quasar.js:</span>

<span class="token keyword"${s}>function</span> <span class="token function"${s}>initQuasar</span> <span class="token punctuation"${s}>(</span><span class="token parameter"${s}>bridge<span class="token punctuation"${s}>,</span> quasarInstance</span><span class="token punctuation"${s}>)</span> <span class="token punctuation"${s}>{</span>
  bridge<span class="token punctuation"${s}>.</span><span class="token function"${s}>send</span><span class="token punctuation"${s}>(</span><span class="token string"${s}>&#39;quasar.detect&#39;</span><span class="token punctuation"${s}>,</span> <span class="token punctuation"${s}>{</span>
    <span class="token literal-property property"${s}>version</span><span class="token operator"${s}>:</span> quasarInstance<span class="token punctuation"${s}>.</span>version<span class="token punctuation"${s}>,</span>
    <span class="token literal-property property"${s}>dark</span><span class="token operator"${s}>:</span> <span class="token punctuation"${s}>{</span>
      <span class="token literal-property property"${s}>isActive</span><span class="token operator"${s}>:</span> quasarInstance<span class="token punctuation"${s}>.</span>dark <span class="token operator"${s}>?</span> quasarInstance<span class="token punctuation"${s}>.</span>dark<span class="token punctuation"${s}>.</span>isActive <span class="token operator"${s}>:</span> <span class="token keyword"${s}>void</span> <span class="token number"${s}>0</span>
    <span class="token punctuation"${s}>}</span><span class="token punctuation"${s}>,</span>
    <span class="token literal-property property"${s}>umd</span><span class="token operator"${s}>:</span> quasarInstance<span class="token punctuation"${s}>.</span>umd<span class="token punctuation"${s}>,</span>
    <span class="token literal-property property"${s}>iconSet</span><span class="token operator"${s}>:</span> <span class="token punctuation"${s}>{</span>
      <span class="token literal-property property"${s}>name</span><span class="token operator"${s}>:</span> quasarInstance<span class="token punctuation"${s}>.</span>iconSet<span class="token punctuation"${s}>.</span>name<span class="token punctuation"${s}>,</span>
      <span class="token literal-property property"${s}>__installed</span><span class="token operator"${s}>:</span> quasarInstance<span class="token punctuation"${s}>.</span>iconSet<span class="token punctuation"${s}>.</span>__installed
    <span class="token punctuation"${s}>}</span><span class="token punctuation"${s}>,</span>
    <span class="token literal-property property"${s}>lang</span><span class="token operator"${s}>:</span> <span class="token punctuation"${s}>{</span>
      <span class="token literal-property property"${s}>rtl</span><span class="token operator"${s}>:</span> quasarInstance<span class="token punctuation"${s}>.</span>lang<span class="token punctuation"${s}>.</span>rtl
    <span class="token punctuation"${s}>}</span>
  <span class="token punctuation"${s}>}</span><span class="token punctuation"${s}>)</span>
  window<span class="token punctuation"${s}>.</span>__QUASAR_DEVTOOLS__ <span class="token operator"${s}>=</span> <span class="token punctuation"${s}>{</span>
    <span class="token literal-property property"${s}>Quasar</span><span class="token operator"${s}>:</span> quasarInstance
  <span class="token punctuation"${s}>}</span>
<span class="token punctuation"${s}>}</span>

<span class="token keyword"${s}>export</span> <span class="token keyword"${s}>default</span> <span class="token keyword"${s}>function</span> <span class="token function"${s}>detectQuasar</span> <span class="token punctuation"${s}>(</span><span class="token parameter"${s}>bridge</span><span class="token punctuation"${s}>)</span> <span class="token punctuation"${s}>{</span>
  <span class="token keyword"${s}>if</span> <span class="token punctuation"${s}>(</span>window<span class="token punctuation"${s}>.</span>Quasar<span class="token punctuation"${s}>)</span> <span class="token punctuation"${s}>{</span> <span class="token comment"${s}>// UMD</span>
    <span class="token function"${s}>initQuasar</span><span class="token punctuation"${s}>(</span>bridge<span class="token punctuation"${s}>,</span> <span class="token punctuation"${s}>{</span>
      <span class="token literal-property property"${s}>version</span><span class="token operator"${s}>:</span> window<span class="token punctuation"${s}>.</span>Quasar<span class="token punctuation"${s}>.</span>version<span class="token punctuation"${s}>,</span>
      <span class="token literal-property property"${s}>dark</span><span class="token operator"${s}>:</span> window<span class="token punctuation"${s}>.</span>Quasar<span class="token punctuation"${s}>.</span>Dark<span class="token punctuation"${s}>,</span>
      <span class="token operator"${s}>...</span>window<span class="token punctuation"${s}>.</span>Quasar<span class="token punctuation"${s}>,</span>
      <span class="token literal-property property"${s}>umd</span><span class="token operator"${s}>:</span> <span class="token boolean"${s}>true</span>
    <span class="token punctuation"${s}>}</span><span class="token punctuation"${s}>)</span>
  <span class="token punctuation"${s}>}</span>
  <span class="token keyword"${s}>else</span> <span class="token punctuation"${s}>{</span> <span class="token comment"${s}>// CLI</span>
    <span class="token keyword"${s}>let</span> isVue3 <span class="token operator"${s}>=</span> <span class="token boolean"${s}>false</span>
    <span class="token function"${s}>setTimeout</span><span class="token punctuation"${s}>(</span><span class="token punctuation"${s}>(</span><span class="token punctuation"${s}>)</span> <span class="token operator"${s}>=&gt;</span> <span class="token punctuation"${s}>{</span>
      <span class="token keyword"${s}>const</span> all <span class="token operator"${s}>=</span> document<span class="token punctuation"${s}>.</span><span class="token function"${s}>querySelectorAll</span><span class="token punctuation"${s}>(</span><span class="token string"${s}>&#39;*&#39;</span><span class="token punctuation"${s}>)</span>
      <span class="token keyword"${s}>let</span> el
      <span class="token keyword"${s}>for</span> <span class="token punctuation"${s}>(</span><span class="token keyword"${s}>let</span> i <span class="token operator"${s}>=</span> <span class="token number"${s}>0</span><span class="token punctuation"${s}>;</span> i <span class="token operator"${s}>&lt;</span> all<span class="token punctuation"${s}>.</span>length<span class="token punctuation"${s}>;</span> i<span class="token operator"${s}>++</span><span class="token punctuation"${s}>)</span> <span class="token punctuation"${s}>{</span>
        <span class="token keyword"${s}>if</span> <span class="token punctuation"${s}>(</span>all<span class="token punctuation"${s}>[</span>i<span class="token punctuation"${s}>]</span><span class="token punctuation"${s}>.</span>__vue__ <span class="token operator"${s}>||</span> all<span class="token punctuation"${s}>[</span>i<span class="token punctuation"${s}>]</span><span class="token punctuation"${s}>.</span>__vue_app__<span class="token punctuation"${s}>)</span> <span class="token punctuation"${s}>{</span>
          el <span class="token operator"${s}>=</span> all<span class="token punctuation"${s}>[</span>i<span class="token punctuation"${s}>]</span>
          isVue3 <span class="token operator"${s}>=</span> all<span class="token punctuation"${s}>[</span>i<span class="token punctuation"${s}>]</span><span class="token punctuation"${s}>.</span>__vue_app__ <span class="token operator"${s}>!==</span> <span class="token keyword"${s}>void</span> <span class="token number"${s}>0</span>
          <span class="token keyword"${s}>break</span>
        <span class="token punctuation"${s}>}</span>
      <span class="token punctuation"${s}>}</span>

      <span class="token keyword"${s}>if</span> <span class="token punctuation"${s}>(</span>el<span class="token punctuation"${s}>)</span> <span class="token punctuation"${s}>{</span>
        <span class="token keyword"${s}>const</span> Vue <span class="token operator"${s}>=</span> isVue3 <span class="token operator"${s}>?</span> el<span class="token punctuation"${s}>.</span>__vue_app__ <span class="token operator"${s}>:</span> Object<span class="token punctuation"${s}>.</span><span class="token function"${s}>getPrototypeOf</span><span class="token punctuation"${s}>(</span>el<span class="token punctuation"${s}>.</span>__vue__<span class="token punctuation"${s}>)</span><span class="token punctuation"${s}>.</span>constructor

        <span class="token keyword"${s}>const</span> quasar <span class="token operator"${s}>=</span> isVue3 <span class="token operator"${s}>?</span> Vue<span class="token punctuation"${s}>.</span>config<span class="token punctuation"${s}>.</span>globalProperties<span class="token punctuation"${s}>.</span>$q <span class="token operator"${s}>:</span> <span class="token class-name"${s}>Vue</span><span class="token punctuation"${s}>.</span>prototype<span class="token punctuation"${s}>.</span>$q
        <span class="token keyword"${s}>if</span> <span class="token punctuation"${s}>(</span>quasar<span class="token punctuation"${s}>)</span> <span class="token punctuation"${s}>{</span>
          <span class="token function"${s}>initQuasar</span><span class="token punctuation"${s}>(</span>bridge<span class="token punctuation"${s}>,</span> quasar<span class="token punctuation"${s}>,</span> Vue<span class="token punctuation"${s}>)</span>
        <span class="token punctuation"${s}>}</span>
      <span class="token punctuation"${s}>}</span>
    <span class="token punctuation"${s}>}</span><span class="token punctuation"${s}>,</span> <span class="token number"${s}>100</span><span class="token punctuation"${s}>)</span>
  <span class="token punctuation"${s}>}</span>
<span class="token punctuation"${s}>}</span></code></pre>`),t(u(o,null,null,k,s));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},"// detect-quasar.js:"),a(`

`),n("span",{class:"token keyword"},"function"),a(),n("span",{class:"token function"},"initQuasar"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[a("bridge"),n("span",{class:"token punctuation"},","),a(" quasarInstance")]),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
  bridge`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'quasar.detect'"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token literal-property property"},"version"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("version"),n("span",{class:"token punctuation"},","),a(`
    `),n("span",{class:"token literal-property property"},"dark"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"isActive"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("dark "),n("span",{class:"token operator"},"?"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("dark"),n("span",{class:"token punctuation"},"."),a("isActive "),n("span",{class:"token operator"},":"),a(),n("span",{class:"token keyword"},"void"),a(),n("span",{class:"token number"},"0"),a(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
    `),n("span",{class:"token literal-property property"},"umd"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("umd"),n("span",{class:"token punctuation"},","),a(`
    `),n("span",{class:"token literal-property property"},"iconSet"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("iconSet"),n("span",{class:"token punctuation"},"."),a("name"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"__installed"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("iconSet"),n("span",{class:"token punctuation"},"."),a(`__installed
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
    `),n("span",{class:"token literal-property property"},"lang"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"rtl"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("lang"),n("span",{class:"token punctuation"},"."),a(`rtl
    `),n("span",{class:"token punctuation"},"}"),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
  window`),n("span",{class:"token punctuation"},"."),a("__QUASAR_DEVTOOLS__ "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token literal-property property"},"Quasar"),n("span",{class:"token operator"},":"),a(` quasarInstance
  `),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token keyword"},"function"),a(),n("span",{class:"token function"},"detectQuasar"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"bridge"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token keyword"},"if"),a(),n("span",{class:"token punctuation"},"("),a("window"),n("span",{class:"token punctuation"},"."),a("Quasar"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token comment"},"// UMD"),a(`
    `),n("span",{class:"token function"},"initQuasar"),n("span",{class:"token punctuation"},"("),a("bridge"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"version"),n("span",{class:"token operator"},":"),a(" window"),n("span",{class:"token punctuation"},"."),a("Quasar"),n("span",{class:"token punctuation"},"."),a("version"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"dark"),n("span",{class:"token operator"},":"),a(" window"),n("span",{class:"token punctuation"},"."),a("Quasar"),n("span",{class:"token punctuation"},"."),a("Dark"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token operator"},"..."),a("window"),n("span",{class:"token punctuation"},"."),a("Quasar"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"umd"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token boolean"},"true"),a(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token punctuation"},"}"),a(`
  `),n("span",{class:"token keyword"},"else"),a(),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token comment"},"// CLI"),a(`
    `),n("span",{class:"token keyword"},"let"),a(" isVue3 "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token boolean"},"false"),a(`
    `),n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token keyword"},"const"),a(" all "),n("span",{class:"token operator"},"="),a(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"querySelectorAll"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'*'"),n("span",{class:"token punctuation"},")"),a(`
      `),n("span",{class:"token keyword"},"let"),a(` el
      `),n("span",{class:"token keyword"},"for"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"let"),a(" i "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),a(" i "),n("span",{class:"token operator"},"<"),a(" all"),n("span",{class:"token punctuation"},"."),a("length"),n("span",{class:"token punctuation"},";"),a(" i"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
        `),n("span",{class:"token keyword"},"if"),a(),n("span",{class:"token punctuation"},"("),a("all"),n("span",{class:"token punctuation"},"["),a("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),a("__vue__ "),n("span",{class:"token operator"},"||"),a(" all"),n("span",{class:"token punctuation"},"["),a("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),a("__vue_app__"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
          el `),n("span",{class:"token operator"},"="),a(" all"),n("span",{class:"token punctuation"},"["),a("i"),n("span",{class:"token punctuation"},"]"),a(`
          isVue3 `),n("span",{class:"token operator"},"="),a(" all"),n("span",{class:"token punctuation"},"["),a("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),a("__vue_app__ "),n("span",{class:"token operator"},"!=="),a(),n("span",{class:"token keyword"},"void"),a(),n("span",{class:"token number"},"0"),a(`
          `),n("span",{class:"token keyword"},"break"),a(`
        `),n("span",{class:"token punctuation"},"}"),a(`
      `),n("span",{class:"token punctuation"},"}"),a(`

      `),n("span",{class:"token keyword"},"if"),a(),n("span",{class:"token punctuation"},"("),a("el"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
        `),n("span",{class:"token keyword"},"const"),a(" Vue "),n("span",{class:"token operator"},"="),a(" isVue3 "),n("span",{class:"token operator"},"?"),a(" el"),n("span",{class:"token punctuation"},"."),a("__vue_app__ "),n("span",{class:"token operator"},":"),a(" Object"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getPrototypeOf"),n("span",{class:"token punctuation"},"("),a("el"),n("span",{class:"token punctuation"},"."),a("__vue__"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),a(`constructor

        `),n("span",{class:"token keyword"},"const"),a(" quasar "),n("span",{class:"token operator"},"="),a(" isVue3 "),n("span",{class:"token operator"},"?"),a(" Vue"),n("span",{class:"token punctuation"},"."),a("config"),n("span",{class:"token punctuation"},"."),a("globalProperties"),n("span",{class:"token punctuation"},"."),a("$q "),n("span",{class:"token operator"},":"),a(),n("span",{class:"token class-name"},"Vue"),n("span",{class:"token punctuation"},"."),a("prototype"),n("span",{class:"token punctuation"},"."),a(`$q
        `),n("span",{class:"token keyword"},"if"),a(),n("span",{class:"token punctuation"},"("),a("quasar"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
          `),n("span",{class:"token function"},"initQuasar"),n("span",{class:"token punctuation"},"("),a("bridge"),n("span",{class:"token punctuation"},","),a(" quasar"),n("span",{class:"token punctuation"},","),a(" Vue"),n("span",{class:"token punctuation"},")"),a(`
        `),n("span",{class:"token punctuation"},"}"),a(`
      `),n("span",{class:"token punctuation"},"}"),a(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(o)]}),_:1},$,p)),e(u(l(r),{title:"In dom-hooks.js"},{default:c((f,t,k,s)=>{if(t)t(`<pre class="doc-code"${s}><code${s}><span class="token keyword"${s}>import</span> <span class="token punctuation"${s}>{</span> bexDom <span class="token punctuation"${s}>}</span> <span class="token keyword"${s}>from</span> <span class="token string"${s}>&#39;quasar/wrappers&#39;</span>
<span class="token keyword"${s}>import</span> detectQuasar <span class="token keyword"${s}>from</span> <span class="token string"${s}>&#39;./dom/detect-quasar&#39;</span>

<span class="token keyword"${s}>export</span> <span class="token keyword"${s}>default</span> <span class="token function"${s}>bexDom</span><span class="token punctuation"${s}>(</span><span class="token punctuation"${s}>(</span><span class="token parameter"${s}>bridge</span><span class="token punctuation"${s}>)</span> <span class="token operator"${s}>=&gt;</span> <span class="token punctuation"${s}>{</span>
  <span class="token function"${s}>detectQuasar</span><span class="token punctuation"${s}>(</span>bridge<span class="token punctuation"${s}>)</span>
<span class="token punctuation"${s}>}</span><span class="token punctuation"${s}>)</span></code></pre>`),t(u(o,null,null,k,s));else return[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" bexDom "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'quasar/wrappers'"),a(`
`),n("span",{class:"token keyword"},"import"),a(" detectQuasar "),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'./dom/detect-quasar'"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token function"},"bexDom"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"bridge"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token function"},"detectQuasar"),n("span",{class:"token punctuation"},"("),a("bridge"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])]),n(o)]}),_:1},$,p)),e(`<p${p}>The bridge above will notify all listeners in the BEX that Quasar has been found and along with that send the instance information.</p>`);else return[n("p",null,[n("code",{class:"doc-token"},"src-bex/js/dom-hooks.js"),a(" is a javascript file that is injected into the underlying web page automatically by Quasar but as with all the other hook files has access to the bridge via:")]),n(l(r),null,{default:c(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" bexDom "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'quasar/wrappers'"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token function"},"bexDom"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"bridge"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token comment"},"//"),a(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])]),n(o)]),_:1}),n("p",null,"If you ever find yourself needing to inject a JS file into your underlying web page, you can use dom hooks instead as it means you can maintain that chain of communication in the BEX."),n("p",null,"For example, lets say you wanted to write a BEX that detects whether or not a Quasar app is running on a page, the only way to do this is by running some javascript in the context of the web page."),n(l(r),null,{default:c(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},"// detect-quasar.js:"),a(`

`),n("span",{class:"token keyword"},"function"),a(),n("span",{class:"token function"},"initQuasar"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[a("bridge"),n("span",{class:"token punctuation"},","),a(" quasarInstance")]),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
  bridge`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'quasar.detect'"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token literal-property property"},"version"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("version"),n("span",{class:"token punctuation"},","),a(`
    `),n("span",{class:"token literal-property property"},"dark"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"isActive"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("dark "),n("span",{class:"token operator"},"?"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("dark"),n("span",{class:"token punctuation"},"."),a("isActive "),n("span",{class:"token operator"},":"),a(),n("span",{class:"token keyword"},"void"),a(),n("span",{class:"token number"},"0"),a(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
    `),n("span",{class:"token literal-property property"},"umd"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("umd"),n("span",{class:"token punctuation"},","),a(`
    `),n("span",{class:"token literal-property property"},"iconSet"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("iconSet"),n("span",{class:"token punctuation"},"."),a("name"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"__installed"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("iconSet"),n("span",{class:"token punctuation"},"."),a(`__installed
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(`
    `),n("span",{class:"token literal-property property"},"lang"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"rtl"),n("span",{class:"token operator"},":"),a(" quasarInstance"),n("span",{class:"token punctuation"},"."),a("lang"),n("span",{class:"token punctuation"},"."),a(`rtl
    `),n("span",{class:"token punctuation"},"}"),a(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
  window`),n("span",{class:"token punctuation"},"."),a("__QUASAR_DEVTOOLS__ "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token literal-property property"},"Quasar"),n("span",{class:"token operator"},":"),a(` quasarInstance
  `),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token keyword"},"function"),a(),n("span",{class:"token function"},"detectQuasar"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"bridge"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token keyword"},"if"),a(),n("span",{class:"token punctuation"},"("),a("window"),n("span",{class:"token punctuation"},"."),a("Quasar"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token comment"},"// UMD"),a(`
    `),n("span",{class:"token function"},"initQuasar"),n("span",{class:"token punctuation"},"("),a("bridge"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token literal-property property"},"version"),n("span",{class:"token operator"},":"),a(" window"),n("span",{class:"token punctuation"},"."),a("Quasar"),n("span",{class:"token punctuation"},"."),a("version"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"dark"),n("span",{class:"token operator"},":"),a(" window"),n("span",{class:"token punctuation"},"."),a("Quasar"),n("span",{class:"token punctuation"},"."),a("Dark"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token operator"},"..."),a("window"),n("span",{class:"token punctuation"},"."),a("Quasar"),n("span",{class:"token punctuation"},","),a(`
      `),n("span",{class:"token literal-property property"},"umd"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token boolean"},"true"),a(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token punctuation"},"}"),a(`
  `),n("span",{class:"token keyword"},"else"),a(),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token comment"},"// CLI"),a(`
    `),n("span",{class:"token keyword"},"let"),a(" isVue3 "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token boolean"},"false"),a(`
    `),n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
      `),n("span",{class:"token keyword"},"const"),a(" all "),n("span",{class:"token operator"},"="),a(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"querySelectorAll"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'*'"),n("span",{class:"token punctuation"},")"),a(`
      `),n("span",{class:"token keyword"},"let"),a(` el
      `),n("span",{class:"token keyword"},"for"),a(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"let"),a(" i "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),a(" i "),n("span",{class:"token operator"},"<"),a(" all"),n("span",{class:"token punctuation"},"."),a("length"),n("span",{class:"token punctuation"},";"),a(" i"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
        `),n("span",{class:"token keyword"},"if"),a(),n("span",{class:"token punctuation"},"("),a("all"),n("span",{class:"token punctuation"},"["),a("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),a("__vue__ "),n("span",{class:"token operator"},"||"),a(" all"),n("span",{class:"token punctuation"},"["),a("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),a("__vue_app__"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
          el `),n("span",{class:"token operator"},"="),a(" all"),n("span",{class:"token punctuation"},"["),a("i"),n("span",{class:"token punctuation"},"]"),a(`
          isVue3 `),n("span",{class:"token operator"},"="),a(" all"),n("span",{class:"token punctuation"},"["),a("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),a("__vue_app__ "),n("span",{class:"token operator"},"!=="),a(),n("span",{class:"token keyword"},"void"),a(),n("span",{class:"token number"},"0"),a(`
          `),n("span",{class:"token keyword"},"break"),a(`
        `),n("span",{class:"token punctuation"},"}"),a(`
      `),n("span",{class:"token punctuation"},"}"),a(`

      `),n("span",{class:"token keyword"},"if"),a(),n("span",{class:"token punctuation"},"("),a("el"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
        `),n("span",{class:"token keyword"},"const"),a(" Vue "),n("span",{class:"token operator"},"="),a(" isVue3 "),n("span",{class:"token operator"},"?"),a(" el"),n("span",{class:"token punctuation"},"."),a("__vue_app__ "),n("span",{class:"token operator"},":"),a(" Object"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getPrototypeOf"),n("span",{class:"token punctuation"},"("),a("el"),n("span",{class:"token punctuation"},"."),a("__vue__"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),a(`constructor

        `),n("span",{class:"token keyword"},"const"),a(" quasar "),n("span",{class:"token operator"},"="),a(" isVue3 "),n("span",{class:"token operator"},"?"),a(" Vue"),n("span",{class:"token punctuation"},"."),a("config"),n("span",{class:"token punctuation"},"."),a("globalProperties"),n("span",{class:"token punctuation"},"."),a("$q "),n("span",{class:"token operator"},":"),a(),n("span",{class:"token class-name"},"Vue"),n("span",{class:"token punctuation"},"."),a("prototype"),n("span",{class:"token punctuation"},"."),a(`$q
        `),n("span",{class:"token keyword"},"if"),a(),n("span",{class:"token punctuation"},"("),a("quasar"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token punctuation"},"{"),a(`
          `),n("span",{class:"token function"},"initQuasar"),n("span",{class:"token punctuation"},"("),a("bridge"),n("span",{class:"token punctuation"},","),a(" quasar"),n("span",{class:"token punctuation"},","),a(" Vue"),n("span",{class:"token punctuation"},")"),a(`
        `),n("span",{class:"token punctuation"},"}"),a(`
      `),n("span",{class:"token punctuation"},"}"),a(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},")"),a(`
  `),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}")])]),n(o)]),_:1}),n(l(r),{title:"In dom-hooks.js"},{default:c(()=>[n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" bexDom "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'quasar/wrappers'"),a(`
`),n("span",{class:"token keyword"},"import"),a(" detectQuasar "),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'./dom/detect-quasar'"),a(`

`),n("span",{class:"token keyword"},"export"),a(),n("span",{class:"token keyword"},"default"),a(),n("span",{class:"token function"},"bexDom"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"bridge"),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token function"},"detectQuasar"),n("span",{class:"token punctuation"},"("),a("bridge"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])]),n(o)]),_:1}),n("p",null,"The bridge above will notify all listeners in the BEX that Quasar has been found and along with that send the instance information.")]}),_:1},g))}}},b=y.setup;y.setup=(m,w)=>{const i=v();return(i.modules||(i.modules=new Set)).add("src/pages/quasar-cli-webpack/developing-browser-extensions/dom-hooks.md"),b?b(m,w):void 0};const U=Q(y,[["__file","dom-hooks.md"]]);export{U as default};
