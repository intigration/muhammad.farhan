import{b as i,d as l,w as a,h as n,i as t,e as s,f as e}from"./vendor.js";import{D as u,a as p}from"./DocPage.js";import{D as o}from"./DocPrerender.js";import{C as c}from"./CopyButton.js";import{_ as r}from"./index.js";const k=n("code",{class:"doc-token"},"src-bex/my-content-script.js",-1),d=n("div",{class:"doc-note doc-note--tip"},[n("p",{class:"doc-note__title"},"TIP"),n("p",null,[t("You can have multiple content scripts with the name of your desire (that includes renaming the default "),n("code",{class:"doc-token"},"my-content-script.js"),t("). Each time that you create a new one, please make sure that you reference it in "),n("code",{class:"doc-token"},"/src-bex/manifest.json"),t(". Use the "),n("code",{class:"doc-token"},".js"),t(" extension even if your filename ends in "),n("code",{class:"doc-token"},".ts"),t(".")])],-1),h=n("p",null,"The added benefit of this file is this function:",-1),f=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" bexContent "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'quasar/wrappers'"),t(`

`),n("span",{class:"token keyword"},"export"),t(),n("span",{class:"token keyword"},"default"),t(),n("span",{class:"token function"},"bexContent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"bridge"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token comment"},"//"),t(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])],-1),m=n("p",null,"This function is called automatically via the Quasar BEX build chain and injects a bridge which is shared between your Quasar App instance and the background script of the BEX.",-1),w=n("p",null,"For example, letâ€™s say we want to react to a button being pressed on our Quasar App and highlight some text on the underlying web page, this would be done via the content scripts like so:",-1),y=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token function"},"setup"),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token keyword"},"const"),t(" $q "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"useQuasar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(`

  `),n("span",{class:"token keyword"},"async"),t(),n("span",{class:"token keyword"},"function"),t(),n("span",{class:"token function"},"myButtonClickHandler"),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token keyword"},"await"),t(" $q"),n("span",{class:"token punctuation"},"."),t("bex"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'highlight.content'"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token punctuation"},"{"),t(),n("span",{class:"token literal-property property"},"selector"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'.some-class'"),t(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
    $q`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"notify"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'Text has been highlighted'"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token punctuation"},"}"),t(`

  `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token punctuation"},"{"),t(" myButtonClickHandler "),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token punctuation"},"}")])],-1),_=n("pre",{class:"doc-code language-css"},[n("code",null,[n("span",{class:"token selector"},".bex-highlight"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token property"},"background-color"),n("span",{class:"token punctuation"},":"),t(" red"),n("span",{class:"token punctuation"},";"),t(`
`),n("span",{class:"token punctuation"},"}")])],-1),g=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" bexContent "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'quasar/wrappers'"),t(`

`),n("span",{class:"token keyword"},"export"),t(),n("span",{class:"token keyword"},"default"),t(),n("span",{class:"token function"},"bexContent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"bridge"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  bridge`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"on"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'highlight.content'"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token punctuation"},"{"),t(" data"),n("span",{class:"token punctuation"},","),t(" respond "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token keyword"},"const"),t(" el "),n("span",{class:"token operator"},"="),t(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"querySelector"),n("span",{class:"token punctuation"},"("),t("data"),n("span",{class:"token punctuation"},"."),t("selector"),n("span",{class:"token punctuation"},")"),t(`
    `),n("span",{class:"token keyword"},"if"),t(),n("span",{class:"token punctuation"},"("),t("el "),n("span",{class:"token operator"},"!=="),t(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
      el`),n("span",{class:"token punctuation"},"."),t("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'bex-highlight'"),n("span",{class:"token punctuation"},")"),t(`
    `),n("span",{class:"token punctuation"},"}"),t(`

    `),n("span",{class:"token comment"},"// Let's resolve the `send()` call's promise, this way we can await it on the other side then display a notification."),t(`
    `),n("span",{class:"token function"},"respond"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])],-1),b=n("p",null,"Isolated worlds do not allow for content scripts, the extension, and the web page to access any variables or functions created by the others. This also gives content scripts the ability to enable functionality that should not be accessible to the web page.",-1),x=n("p",null,[t("This is where the "),n("code",{class:"doc-token"},"dom-script"),t(" comes in.")],-1),v={__name:"content-scripts",setup(C){return(B,q)=>(i(),l(u,{title:"Content Scripts",desc:"(@quasar/app-vite) How to communicate using your content script with your Quasar App and Background Script in Quasar Browser Extension mode.",overline:"Quasar CLI with Vite - @quasar/app-vite",heading:"","edit-link":"quasar-cli-vite/developing-browser-extensions/content-scripts"},{default:a(()=>[n("p",null,[k,t(" is essentially a standard "),s(p,{to:"https://developer.chrome.com/extensions/content_scripts"},{default:a(()=>[t("content script")]),_:1}),t(" and you are welcome to use it as such. Content scripts are able to access the DOM of the underlying webpage and thus you are able to manipulate the content of said page.")]),d,h,s(e(o),null,{default:a(()=>[f,s(c)]),_:1}),m,w,s(e(o),{title:"Quasar App, /src"},{default:a(()=>[y,s(c)]),_:1}),s(e(o),{title:"src-bex/assets/content.css"},{default:a(()=>[_,s(c)]),_:1}),s(e(o),{title:"/src-bex/my-content-script.js:"},{default:a(()=>[g,s(c)]),_:1}),n("p",null,[t("Content scripts live in an "),s(p,{to:"https://developer.chrome.com/extensions/content_scripts#isolated_world"},{default:a(()=>[t("isolated world")]),_:1}),t(", allowing a content script to makes changes to its JavaScript environment without conflicting with the page or additional content scripts.")]),b,x]),_:1}))}},A=r(v,[["__file","content-scripts.md"]]);export{A as default};
