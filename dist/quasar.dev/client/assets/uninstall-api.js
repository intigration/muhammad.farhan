import{b as d,d as k,w as i,e as t,f as e,h as n,i as s,j as u}from"./vendor.js";import{c as o}from"./_examples_frameless-electron-window.js";import{D as h,a as m}from"./DocPage.js";import{D as c}from"./DocPrerender.js";import{C as l}from"./CopyButton.js";import{_ as g}from"./index.js";const f=n("p",null,[s("This page refers to "),n("code",{class:"doc-token"},"src/uninstall.js"),s(" file which is executed when the App Extension is uninstalled. Not all App Extensions will need an uninstall – this is an optional step.")],-1),v=n("p",null,"Example of basic structure of the file:",-1),b=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},"// can be async"),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"api"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token comment"},'// props and methods for "api" Object'),s(`
  `),n("span",{class:"token comment"},"// are described below"),s(`
`),n("span",{class:"token punctuation"},"}")])],-1),x=n("p",null,[s("Contains the Quasar CLI engine (as String) being used. Examples: "),n("code",{class:"doc-token"},"@quasar/app-vite"),s(" or "),n("code",{class:"doc-token"},"@quasar/app-webpack"),s(".")],-1),_=n("p",null,[s("Boolean - is running on "),n("code",{class:"doc-token"},"@quasar/app-vite"),s(" or not.")],-1),w=n("p",null,[s("Boolean - is running on "),n("code",{class:"doc-token"},"@quasar/app-webpack"),s(" or not.")],-1),y=n("p",null,[s("Contains the "),n("code",{class:"doc-token"},"ext-id"),s(" (String) of this App Extension.")],-1),C=n("p",null,[s("Resolves paths within the app on which this App Extension is running. Eliminates the need to import "),n("code",{class:"doc-token"},"path"),s(" and resolve the paths yourself.")],-1),P=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},"// resolves to root of app"),s(`
api`),n("span",{class:"token punctuation"},"."),s("resolve"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"app"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'src/my-file.js'"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token comment"},"// resolves to root/src of app"),s(`
api`),n("span",{class:"token punctuation"},"."),s("resolve"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"src"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'my-file.js'"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token comment"},"// resolves to root/public of app"),s(`
`),n("span",{class:"token comment"},"// (@quasar/app-webpack v3.4+ or @quasar/app-vite v1+)"),s(`
api`),n("span",{class:"token punctuation"},"."),s("resolve"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"public"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'my-image.png'"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token comment"},"// resolves to root/src-pwa of app"),s(`
api`),n("span",{class:"token punctuation"},"."),s("resolve"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"pwa"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'some-file.js'"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token comment"},"// resolves to root/src-ssr of app"),s(`
api`),n("span",{class:"token punctuation"},"."),s("resolve"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ssr"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'some-file.js'"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token comment"},"// resolves to root/src-cordova of app"),s(`
api`),n("span",{class:"token punctuation"},"."),s("resolve"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"cordova"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'config.xml'"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token comment"},"// resolves to root/src-electron of app"),s(`
api`),n("span",{class:"token punctuation"},"."),s("resolve"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"electron"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'some-file.js'"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token comment"},"// resolves to root/src-bex of app"),s(`
api`),n("span",{class:"token punctuation"},"."),s("resolve"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"bex"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'some-file.js'"),n("span",{class:"token punctuation"},")")])],-1),E=n("p",null,"Contains the full path (String) to the root of the app on which this App Extension is running.",-1),$=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},`/**
 * @return {Promise<boolean>} host project has Typescript active or not
 */`),s(`
`),n("span",{class:"token keyword"},"await"),s(" api"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"hasTypescript"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")")])],-1),j=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},`/**
 * @return {Promise<boolean>} host project has ESLint or not
 */`),s(`
`),n("span",{class:"token keyword"},"await"),s(" api"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"hasLint"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")")])],-1),A=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},`/**
 * @return {Promise<string|undefined>} 'pinia' | 'vuex' | undefined
 */`),s(`
`),n("span",{class:"token keyword"},"await"),s(" api"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getStorePackageName"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")")])],-1),N=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},`/**
 * @return {Promise<'npm' | 'yarn' | 'pnpm' | 'bun'>}
 */`),s(`
`),n("span",{class:"token keyword"},"await"),s(" api"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getNodePackagerName"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")")])],-1),q=n("p",null,"Determine if some package is installed in the host app through a semver condition.",-1),I=n("p",null,[s("Example of semver condition: "),n("code",{class:"doc-token"},"'1.x || >=2.5.0 || 5.0.0 - 7.2.3'"),s(".")],-1),L=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},`/**
 * @param {string} packageName
 * @param {string} (optional) semverCondition
 * @return {boolean} package is installed and meets optional semver condition
 */`),s(`
`),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("api"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"hasPackage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'vuelidate'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token comment"},"// hey, this app has it (any version of it)"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("api"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"hasPackage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'quasar'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'^2.0.0'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token comment"},"// hey, this app has Quasar UI v2 installed"),s(`
`),n("span",{class:"token punctuation"},"}")])],-1),T=n("p",null,"Check if another app extension is installed.",-1),B=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},`/**
 * Check if another app extension is installed
 *
 * @param {string} extId
 * @return {boolean} has the extension installed.
 */`),s(`
`),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("api"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"hasExtension"),n("span",{class:"token punctuation"},"("),s("extId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token comment"},"// hey, we have it"),s(`
`),n("span",{class:"token punctuation"},"}")])],-1),D=n("p",null,"Get the version of a host app package.",-1),V=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},`/**
 * @param {string} packageName
 * @return {string|undefined} version of app's package
 */`),s(`
console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s(" api"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getPackageVersion"),n("span",{class:"token punctuation"},"("),s("packageName"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token comment"},"// output examples:"),s(`
`),n("span",{class:"token comment"},"//   1.1.3"),s(`
`),n("span",{class:"token comment"},"//   undefined (when package not found)")])],-1),S=n("p",null,"Removes a file or folder from the app project folder (which the App Extension has installed and is no longer needed).",-1),Q=n("p",null,"Be mindful about it and do not delete the files that would break developer’s app.",-1),R=n("p",null,"The path to file or folder needs to be relative to project’s root folder.",-1),G=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},`/**
  * @param {string} __path
  */`),s(`
api`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"removePath"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'my-folder'"),n("span",{class:"token punctuation"},")")])],-1),O=n("p",null,"The above example deletes “my-folder” from the root of the app.",-1),U=n("p",null,"Get the internal persistent config of this extension. Returns empty object if it has none.",-1),W=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},`/**
 * @return {object} cfg
 */`),s(`
api`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getPersistentConf"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")")])],-1),F=n("p",null,"Adds a message to be printed after App CLI finishes up uninstalling the App Extension and is about to exit. Can be called multiple times to register multiple exit logs.",-1),H=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},`/**
 * @param {string} msg
 */`),s(`
api`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"onExitLog"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'Thanks for having used my extension'"),n("span",{class:"token punctuation"},")")])],-1),z={__name:"uninstall-api",setup(J){const r=[{id:"api-engine",title:"1.1. api.engine",sub:!0},{id:"api-hasvite",title:"1.2. api.hasVite",sub:!0},{id:"api-haswebpack",title:"1.3. api.hasWebpack",sub:!0},{id:"api-extid",title:"1.4. api.extId",sub:!0},{id:"api-prompts",title:"1.5. api.prompts",sub:!0},{id:"api-resolve",title:"1.6. api.resolve",sub:!0},{id:"api-appdir",title:"1.7. api.appDir",sub:!0},{id:"api-hastypescript",title:"1.8. api.hasTypescript",sub:!0},{id:"api-haslint",title:"1.9. api.hasLint",sub:!0},{id:"api-getstorepackagename",title:"1.10. api.getStorePackageName",sub:!0},{id:"api-getnodepackagername",title:"1.11. api.getNodePackagerName",sub:!0},{id:"api-haspackage",title:"1.12. api.hasPackage",sub:!0},{id:"api-hasextension",title:"1.13. api.hasExtension",sub:!0},{id:"api-getpackageversion",title:"1.14. api.getPackageVersion",sub:!0},{id:"api-removepath",title:"1.15. api.removePath",sub:!0},{id:"api-getpersistentconf",title:"1.16. api.getPersistentConf",sub:!0},{id:"api-onexitlog",title:"1.17. api.onExitLog",sub:!0}];return(K,a)=>(d(),k(h,{title:"App Extension Uninstall API",desc:"The API for the uninstall script of a Quasar App Extension.",heading:"","edit-link":"app-extensions/development-guide/uninstall-api",toc:r},{default:i(()=>[f,v,t(e(c),null,{default:i(()=>[b,t(l)]),_:1}),n("h3",{id:"api-engine",class:"doc-heading doc-h3",onClick:a[0]||(a[0]=p=>e(o)("api-engine"))},"api.engine"),x,n("h3",{id:"api-hasvite",class:"doc-heading doc-h3",onClick:a[1]||(a[1]=p=>e(o)("api-hasvite"))},"api.hasVite"),_,n("h3",{id:"api-haswebpack",class:"doc-heading doc-h3",onClick:a[2]||(a[2]=p=>e(o)("api-haswebpack"))},"api.hasWebpack"),w,n("h3",{id:"api-extid",class:"doc-heading doc-h3",onClick:a[3]||(a[3]=p=>e(o)("api-extid"))},"api.extId"),y,n("h3",{id:"api-prompts",class:"doc-heading doc-h3",onClick:a[4]||(a[4]=p=>e(o)("api-prompts"))},"api.prompts"),n("p",null,[s("Is an Object which has the answers to the prompts when this App Extension gets installed. For more info on prompts, check out "),t(m,{to:"/app-extensions/development-guide/prompts-api"},{default:i(()=>[s("Prompts API")]),_:1}),s(".")]),n("h3",{id:"api-resolve",class:"doc-heading doc-h3",onClick:a[5]||(a[5]=p=>e(o)("api-resolve"))},"api.resolve"),C,t(e(c),null,{default:i(()=>[P,t(l)]),_:1}),n("h3",{id:"api-appdir",class:"doc-heading doc-h3",onClick:a[6]||(a[6]=p=>e(o)("api-appdir"))},"api.appDir"),E,n("h3",{id:"api-hastypescript",class:"doc-heading doc-h3",onClick:a[7]||(a[7]=p=>e(o)("api-hastypescript"))},[s("api.hasTypescript "),t(u,{label:"@quasar/app-vite 1.6+"}),s(),t(u,{label:"@quasar/app-webpack 3.11+"})]),t(e(c),null,{default:i(()=>[$,t(l)]),_:1}),n("h3",{id:"api-haslint",class:"doc-heading doc-h3",onClick:a[8]||(a[8]=p=>e(o)("api-haslint"))},[s("api.hasLint "),t(u,{label:"@quasar/app-vite 1.6+"}),s(),t(u,{label:"@quasar/app-webpack 3.11+"})]),t(e(c),null,{default:i(()=>[j,t(l)]),_:1}),n("h3",{id:"api-getstorepackagename",class:"doc-heading doc-h3",onClick:a[9]||(a[9]=p=>e(o)("api-getstorepackagename"))},[s("api.getStorePackageName "),t(u,{label:"@quasar/app-vite 1.6+"}),s(),t(u,{label:"@quasar/app-webpack 3.11+"})]),t(e(c),null,{default:i(()=>[A,t(l)]),_:1}),n("h3",{id:"api-getnodepackagername",class:"doc-heading doc-h3",onClick:a[10]||(a[10]=p=>e(o)("api-getnodepackagername"))},[s("api.getNodePackagerName "),t(u,{label:"@quasar/app-vite 1.6+"}),s(),t(u,{label:"@quasar/app-webpack 3.11+"})]),t(e(c),null,{default:i(()=>[N,t(l)]),_:1}),n("h3",{id:"api-haspackage",class:"doc-heading doc-h3",onClick:a[11]||(a[11]=p=>e(o)("api-haspackage"))},"api.hasPackage"),q,I,t(e(c),null,{default:i(()=>[L,t(l)]),_:1}),n("h3",{id:"api-hasextension",class:"doc-heading doc-h3",onClick:a[12]||(a[12]=p=>e(o)("api-hasextension"))},"api.hasExtension"),T,t(e(c),null,{default:i(()=>[B,t(l)]),_:1}),n("h3",{id:"api-getpackageversion",class:"doc-heading doc-h3",onClick:a[13]||(a[13]=p=>e(o)("api-getpackageversion"))},"api.getPackageVersion"),D,t(e(c),null,{default:i(()=>[V,t(l)]),_:1}),n("h3",{id:"api-removepath",class:"doc-heading doc-h3",onClick:a[14]||(a[14]=p=>e(o)("api-removepath"))},"api.removePath"),S,Q,R,t(e(c),null,{default:i(()=>[G,t(l)]),_:1}),O,n("h3",{id:"api-getpersistentconf",class:"doc-heading doc-h3",onClick:a[15]||(a[15]=p=>e(o)("api-getpersistentconf"))},"api.getPersistentConf"),U,t(e(c),null,{default:i(()=>[W,t(l)]),_:1}),n("h3",{id:"api-onexitlog",class:"doc-heading doc-h3",onClick:a[16]||(a[16]=p=>e(o)("api-onexitlog"))},"api.onExitLog"),F,t(e(c),null,{default:i(()=>[H,t(l)]),_:1})]),_:1}))}},an=g(z,[["__file","uninstall-api.md"]]);export{an as default};
