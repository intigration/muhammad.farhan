import{b as h,d as k,w as o,h as e,f as n,e as a,k as p,i as t}from"./vendor.js";import{c}from"./_examples_frameless-electron-window.js";import{D as f,a as l}from"./DocPage.js";import{D as d}from"./DocPrerender.js";import{C as i}from"./CopyButton.js";import{_ as w}from"./index.js";const m=e("p",null,[t("This page will guide you on how to convert a Quasar CLI with Vite ("),e("code",{class:"doc-token"},"@quasar/app-vite"),t(") project into a Quasar CLI with Webpack one ("),e("code",{class:"doc-token"},"@quasar/app-webpack"),t(").")],-1),b=e("pre",{class:"doc-code"},[e("code",null,[t("$ "),e("span",{class:"token function"},"yarn"),t(` create quasar
`),e("span",{class:"token comment"},'# then pick "App with Quasar CLI", "Quasar v2", "Quasar App CLI with Webpack"')])],-1),g=e("pre",{class:"doc-code"},[e("code",null,[t("$ "),e("span",{class:"token function"},"npm"),t(` init quasar
`),e("span",{class:"token comment"},'# then pick "App with Quasar CLI", "Quasar v2", "Quasar App CLI with Webpack"')])],-1),_=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token comment"},"# experimental support"),t(`
$ `),e("span",{class:"token function"},"pnpm"),t(` create quasar
`),e("span",{class:"token comment"},'# then pick "App with Quasar CLI", "Quasar v2", "Quasar App CLI with Webpack"')])],-1),v=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token comment"},"# experimental support"),t(`
$ bun create quasar
`),e("span",{class:"token comment"},'# then pick "App with Quasar CLI", "Quasar v2", "Quasar App CLI with Webpack"')])],-1),y=e("p",null,"There are significant changes to the root files so it’s easier to generate a new project folder rather than explaining each of the many changes.",-1),C=e("p",null,"From your original project folder, copy these as they are:",-1),q=e("ul",null,[e("li",null,"/src (with small caveat; see next steps)"),e("li",null,"/src-cordova"),e("li",null,"/src-capacitor"),e("li",null,"/src-electron"),e("li",null,"/src-pwa"),e("li",null,"/src-ssr (with small caveat; see next steps)"),e("li",null,[e("s",null,"/src-bex"),t(),e("strong",null,"Nope. Don’t!")])],-1),x=e("p",null,[t("Also move "),e("code",{class:"doc-token"},"/index.html"),t(" to "),e("code",{class:"doc-token"},"/src/index.template.html"),t(". And make the following change:")],-1),Q=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token comment"},"<!-- quasar:entry-point -->"),t(`

// replace with:

`),e("span",{class:"token comment"},"<!-- DO NOT touch the following DIV -->"),t(`
`),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),t("div")]),t(),e("span",{class:"token attr-name"},"id"),e("span",{class:"token attr-value"},[e("span",{class:"token punctuation attr-equals"},"="),e("span",{class:"token punctuation"},'"'),t("q-app"),e("span",{class:"token punctuation"},'"')]),e("span",{class:"token punctuation"},">")]),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),t("div")]),e("span",{class:"token punctuation"},">")])])],-1),S=e("p",null,[t("Also, edit "),e("code",{class:"doc-token"},"/src/router/index.js"),t(":")],-1),A=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token comment"},"// old way"),t(`
`),e("span",{class:"token literal-property property"},"history"),e("span",{class:"token operator"},":"),t(),e("span",{class:"token function"},"createHistory"),e("span",{class:"token punctuation"},"("),t("process"),e("span",{class:"token punctuation"},"."),t("env"),e("span",{class:"token punctuation"},"."),e("span",{class:"token constant"},"VUE_ROUTER_BASE"),e("span",{class:"token punctuation"},")"),t(`

`),e("span",{class:"token comment"},"// new way"),t(`
`),e("span",{class:"token literal-property property"},"history"),e("span",{class:"token operator"},":"),t(),e("span",{class:"token function"},"createHistory"),e("span",{class:"token punctuation"},"("),t("process"),e("span",{class:"token punctuation"},"."),t("env"),e("span",{class:"token punctuation"},"."),e("span",{class:"token constant"},"MODE"),t(),e("span",{class:"token operator"},"==="),t(),e("span",{class:"token string"},"'ssr'"),t(),e("span",{class:"token operator"},"?"),t(),e("span",{class:"token keyword"},"void"),t(),e("span",{class:"token number"},"0"),t(),e("span",{class:"token operator"},":"),t(" process"),e("span",{class:"token punctuation"},"."),t("env"),e("span",{class:"token punctuation"},"."),e("span",{class:"token constant"},"VUE_ROUTER_BASE"),e("span",{class:"token punctuation"},")")])],-1),I=e("code",{class:"doc-token"},"build",-1),j=e("code",{class:"doc-token"},"devServer",-1),L=e("code",{class:"doc-token"},"/package.json > browserslist",-1),W=e("code",{class:"doc-token"},"/src-ssr/server.js",-1),B=e("code",{class:"doc-token"},"/src-ssr/production-export.js",-1),P=e("code",{class:"doc-token"},"listen()",-1),T=e("code",{class:"doc-token"},"src-ssr/server.js",-1),$=e("p",null,[t("The "),e("code",{class:"doc-token"},"/src-pwa/manifest.json"),t(" has no meaning for a Quasar CLI with Webpack project. You will need to use "),e("code",{class:"doc-token"},"quasar.config file > manifest"),t(" to declare it there. After that then delete the "),e("code",{class:"doc-token"},"/src-pwa/manifest.json"),t(" file.")],-1),E=e("p",null,[t("Also check "),e("code",{class:"doc-token"},"quasar.config file > pwa"),t(" > "),e("code",{class:"doc-token"},"metaVariables"),t(" and "),e("code",{class:"doc-token"},"metaVariablesFn"),t(".")],-1),M=e("p",null,"The BEX mode differs quite a lot. The PWA mode in a Quasar CLI with Webpack project does NOT supports PWA manifest v3 and multiple content scripts. You will have to manually port over your BEX files to the new architecture.",-1),N=e("p",null,[t("It’s best to "),e("code",{class:"doc-token"},"$ quasar mode add bex"),t(" and port your BEX.")],-1),V=e("pre",{class:"doc-code"},[e("code",null,`$ quasar dev
$ quasar build`)],-1),D={__name:"convert-to-quasar-cli-with-webpack",setup(R){const u=[{id:"step-1-create-a-quasar-cli-with-webpack-project-folder-",title:"1.1. Step 1: Create a Quasar CLI with Webpack project folder:",sub:!0},{id:"step-2-copy-folders-from-original-folder",title:"1.2. Step 2: Copy folders from original folder",sub:!0},{id:"step-3-check-the-new-quasar-config-file",title:"1.3. Step 3: Check the new quasar.config file",sub:!0},{id:"step-4-browser-compatibility",title:"1.4. Step 4: Browser compatibility",sub:!0},{id:"step-5-ssr-related",title:"1.5. Step 5: SSR related",sub:!0},{id:"step-6-pwa-related",title:"1.6. Step 6: PWA related",sub:!0},{id:"step-7-bex-related",title:"1.7. Step 7: BEX related",sub:!0},{id:"step-8-and-were-done",title:"1.8. Step 8: And we’re done",sub:!0}];return(O,s)=>(h(),k(f,{title:"Convert project to Quasar CLI with Webpack",desc:"(@quasar/app-webpack) How to convert a Quasar CLI with Vite project to a Quasar CLI with Webpack one.",overline:"Quasar CLI with Webpack - @quasar/app-webpack",heading:"","edit-link":"quasar-cli-webpack/convert-to-quasar-cli-with-webpack",toc:u},{default:o(()=>[m,e("h3",{id:"step-1-create-a-quasar-cli-with-webpack-project-folder-",class:"doc-heading doc-h3",onClick:s[0]||(s[0]=r=>n(c)("step-1-create-a-quasar-cli-with-webpack-project-folder-"))},"Step 1: Create a Quasar CLI with Webpack project folder:"),a(n(d),{tabs:["Yarn","NPM","PNPM","Bun"]},{default:o(()=>[a(p,{class:"q-pa-none",name:"Yarn"},{default:o(()=>[b,a(i,{lang:"bash"})]),_:1}),a(p,{class:"q-pa-none",name:"NPM"},{default:o(()=>[g,a(i,{lang:"bash"})]),_:1}),a(p,{class:"q-pa-none",name:"PNPM"},{default:o(()=>[_,a(i,{lang:"bash"})]),_:1}),a(p,{class:"q-pa-none",name:"Bun"},{default:o(()=>[v,a(i,{lang:"bash"})]),_:1})]),_:1}),y,e("h3",{id:"step-2-copy-folders-from-original-folder",class:"doc-heading doc-h3",onClick:s[1]||(s[1]=r=>n(c)("step-2-copy-folders-from-original-folder"))},"Step 2: Copy folders from original folder"),C,q,x,a(n(d),null,{default:o(()=>[Q,a(i)]),_:1}),S,a(n(d),null,{default:o(()=>[A,a(i)]),_:1}),e("h3",{id:"step-3-check-the-new-quasar-config-file",class:"doc-heading doc-h3",onClick:s[2]||(s[2]=r=>n(c)("step-3-check-the-new-quasar-config-file"))},"Step 3: Check the new quasar.config file"),e("p",null,[t("There are property changes in "),I,t(", "),j,t(", and all Quasar Modes (pwa, ssr, etc). The props are detailed in the "),a(l,{to:"/quasar-cli-webpack/quasar-config-file"},{default:o(()=>[t("quasar.config file")]),_:1}),t(" page. You will have to manually port your configuration to the Quasar CLI with Webpack architecture.")]),e("h3",{id:"step-4-browser-compatibility",class:"doc-heading doc-h3",onClick:s[3]||(s[3]=r=>n(c)("step-4-browser-compatibility"))},"Step 4: Browser compatibility"),e("p",null,[t("A Quasar CLI with Webpack project relies on "),L,t(" to specify which browsers you are targetting. More info: "),a(l,{to:"/quasar-cli-webpack/browser-compatibility"},{default:o(()=>[t("Browser Compatibility")]),_:1}),t(" page.")]),e("h3",{id:"step-5-ssr-related",class:"doc-heading doc-h3",onClick:s[4]||(s[4]=r=>n(c)("step-5-ssr-related"))},"Step 5: SSR related"),e("p",null,[t("Port the "),W,t(" to "),B,t(" file. Make sure to read about the "),a(l,{to:"/quasar-cli-webpack/developing-ssr/ssr-production-export"},{default:o(()=>[t("SSR Production Export")]),_:1}),t(" first. The production-export.js is essentially default exporting the "),P,t(" method from "),T,t(". All the other functionality cannot be ported over.")]),e("p",null,[t("More info: "),a(l,{to:"/quasar-cli-webpack/developing-ssr/configuring-ssr"},{default:o(()=>[t("Configuring SSR")]),_:1})]),e("h3",{id:"step-6-pwa-related",class:"doc-heading doc-h3",onClick:s[5]||(s[5]=r=>n(c)("step-6-pwa-related"))},"Step 6: PWA related"),$,E,e("p",null,[t("More info: "),a(l,{to:"/quasar-cli-webpack/developing-pwa/configuring-pwa"},{default:o(()=>[t("Configuring PWA")]),_:1})]),e("h3",{id:"step-7-bex-related",class:"doc-heading doc-h3",onClick:s[6]||(s[6]=r=>n(c)("step-7-bex-related"))},"Step 7: BEX related"),M,N,e("p",null,[t("More info: "),a(l,{to:"/quasar-cli-webpack/developing-browser-extensions/preparation#2-understand-the-anatomy-of-src-bex"},{default:o(()=>[t("Preparation and folder structure")]),_:1}),t(" and "),a(l,{to:"/quasar-cli-webpack/developing-browser-extensions/configuring-bex"},{default:o(()=>[t("Configuring BEX")]),_:1}),t(".")]),e("h3",{id:"step-8-and-were-done",class:"doc-heading doc-h3",onClick:s[7]||(s[7]=r=>n(c)("step-8-and-were-done"))},"Step 8: And we’re done"),a(n(d),null,{default:o(()=>[V,a(i,{lang:"bash"})]),_:1})]),_:1}))}},G=w(D,[["__file","convert-to-quasar-cli-with-webpack.md"]]);export{G as default};
