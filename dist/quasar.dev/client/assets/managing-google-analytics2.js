import{c as i}from"./_examples_frameless-electron-window.js";import{D as d,a as s}from"./DocPage.js";import{D as l}from"./DocPrerender.js";import{C as c}from"./CopyButton.js";import{_ as k}from"./index.js";import{b as g,d as y,w as o,h as n,i as t,e as a,f as e}from"./vendor.js";const h=n("p",null,"Getting to know your users and measuring user behavior is an important step in App Development. Unfortunately, it takes a bit of non-standard work to get Google Analytics to work after wrapping your mobile app with Cordova. Setting up Google Analytics in a pure web application is quite easy, but Cordova somehow prevents pageviews and events from being sent to Google Analytics.",-1),m=n("p",null,"Follow this guide to implement Google Analytics into your Cordova powered Quasar App.",-1),f=n("div",{class:"doc-note doc-note--warning"},[n("p",{class:"doc-note__title"},"WARNING"),n("p",null,[t("You’ll need to include a "),n("code",{class:"doc-token"},"<script>"),t(" tag provided by Google in "),n("code",{class:"doc-token"},"/index.html"),t(", which will make your App depend on an Internet connection!")])],-1),w=n("code",{class:"doc-token"},"ga.logPage",-1),_=n("li",null,"Have Basic knowledge of Google Analytics",-1),v={class:"doc-note"},b=n("code",{class:"doc-token"},"index.html",-1),A=n("code",{class:"doc-token"},"analytics.js",-1),G=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"export"),t(),n("span",{class:"token keyword"},"default"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token function"},"logEvent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("category"),n("span",{class:"token punctuation"},","),t(" action"),n("span",{class:"token punctuation"},","),t(" label"),n("span",{class:"token punctuation"},","),t(" sessionId "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token keyword"},"null")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
    window`),n("span",{class:"token punctuation"},"."),t("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),t(`
      `),n("span",{class:"token literal-property property"},"appEventCategory"),n("span",{class:"token operator"},":"),t(" category"),n("span",{class:"token punctuation"},","),t(`
      `),n("span",{class:"token literal-property property"},"appEventAction"),n("span",{class:"token operator"},":"),t(" action"),n("span",{class:"token punctuation"},","),t(`
      `),n("span",{class:"token literal-property property"},"appEventLabel"),n("span",{class:"token operator"},":"),t(" label"),n("span",{class:"token punctuation"},","),t(`
      `),n("span",{class:"token literal-property property"},"sessionId"),n("span",{class:"token operator"},":"),t(` sessionId
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
    window`),n("span",{class:"token punctuation"},"."),t("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),t(),n("span",{class:"token string-property property"},"'event'"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'appEvent'"),t(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`

  `),n("span",{class:"token function"},"logPage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("path"),n("span",{class:"token punctuation"},","),t(" name"),n("span",{class:"token punctuation"},","),t(" sessionId "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token keyword"},"null")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
    window`),n("span",{class:"token punctuation"},"."),t("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),t(`
      `),n("span",{class:"token literal-property property"},"screenPath"),n("span",{class:"token operator"},":"),t(" path"),n("span",{class:"token punctuation"},","),t(`
      `),n("span",{class:"token literal-property property"},"screenName"),n("span",{class:"token operator"},":"),t(" name"),n("span",{class:"token punctuation"},","),t(`
      `),n("span",{class:"token literal-property property"},"sessionId"),n("span",{class:"token operator"},":"),t(` sessionId
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
    window`),n("span",{class:"token punctuation"},"."),t("dataLayer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),t(),n("span",{class:"token string-property property"},"'event'"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'appScreenView'"),t(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token punctuation"},"}")])],-1),I=n("p",null,"To make sure all the pages in your application are automatically posted to Google Analytics, we create an app boot file:",-1),C=n("pre",{class:"doc-code"},[n("code",null,[t("$ quasar new boot google-analytics "),n("span",{class:"token punctuation"},"["),t("--format ts"),n("span",{class:"token punctuation"},"]")])],-1),q=n("p",null,[t("Then we edit the newly created file: "),n("code",{class:"doc-token"},"/src/boot/google-analytics.js"),t(":")],-1),P=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),t(" ga "),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'analytics.js'"),t(`

`),n("span",{class:"token keyword"},"export"),t(),n("span",{class:"token keyword"},"default"),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token punctuation"},"{"),t(" router "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  router`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"afterEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("to"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token keyword"},"from")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
    ga`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"logPage"),n("span",{class:"token punctuation"},"("),t("to"),n("span",{class:"token punctuation"},"."),t("path"),n("span",{class:"token punctuation"},","),t(" to"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token punctuation"},","),t(" sessionId"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}")])],-1),x=n("p",null,[t("Finally we register the app boot file in the "),n("code",{class:"doc-token"},"/quasar.config"),t(" file. We can do so only for Cordova wrapped apps if we want:")],-1),D=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token literal-property property"},"boot"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"["),t(`
  ctx`),n("span",{class:"token punctuation"},"."),t("mode"),n("span",{class:"token punctuation"},"."),t("cordova "),n("span",{class:"token operator"},"?"),t(),n("span",{class:"token string"},"'google-analytics'"),t(),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"''"),t(`
`),n("span",{class:"token punctuation"},"]")])],-1),L=n("p",null,"You’ll see the events and pageviews coming in when you run your app. It usually takes around 5 to 10 seconds for a pageview to be registered in the realtime view.",-1),j={__name:"managing-google-analytics",setup(B){const r=[{id:"prerequisites",title:"2. Prerequisites"},{id:"preparation",title:"3. Preparation"},{id:"implementing-this-into-application",title:"4. Implementing this into application"}];return(E,p)=>(g(),y(d,{title:"Managing Google Analytics",desc:"(@quasar/app-vite) How to use analytics in a Quasar hybrid mobile app with Cordova.",overline:"Quasar CLI with Vite - @quasar/app-vite",heading:"","edit-link":"quasar-cli-vite/developing-cordova-apps/managing-google-analytics",toc:r},{default:o(()=>[h,m,n("p",null,[t("You may also want to read this tutorial: "),a(s,{to:"https://jannerantala.com/tutorials/quasar-framework-google-analytics-setup-for-cordova-app/"},{default:o(()=>[t("Google Analytics Setup for a Cordova App")]),_:1}),t(".")]),f,n("h2",{id:"prerequisites",class:"doc-heading doc-h2",onClick:p[0]||(p[0]=u=>e(i)("prerequisites"))},"Prerequisites"),n("ul",null,[n("li",null,[t("Make sure all your routes have a name and path parameter specified. Otherwise, they cannot be posted to the "),w,t(" function. Please refer to "),a(s,{to:"/quasar-cli-vite/routing"},{default:o(()=>[t("Routing")]),_:1}),t(" for more info on routing.")]),_]),n("h2",{id:"preparation",class:"doc-heading doc-h2",onClick:p[1]||(p[1]=u=>e(i)("preparation"))},"Preparation"),n("p",null,[t("Before we can start implementing Google Analytics into your application, you’ll need an account for "),a(s,{to:"https://analytics.google.com"},{default:o(()=>[t("Google Analytics")]),_:1}),t(" and "),a(s,{to:"https://tagmanager.google.com/"},{default:o(()=>[t("Google Tagmanager")]),_:1}),t(". So let’s do that first. When you have these accounts, it’s time to configure Tag manager. Follow the steps in this "),a(s,{to:"https://www.multiminds.eu/blog/2016/12/google-analytics-and-tag-manager-with-ionic-and-cordova-apps/"},{default:o(()=>[t("Multiminds article")]),_:1}),t(" to do so.")]),n("h2",{id:"implementing-this-into-application",class:"doc-heading doc-h2",onClick:p[2]||(p[2]=u=>e(i)("implementing-this-into-application"))},"Implementing this into application"),n("blockquote",v,[n("p",null,[t("For this guide, we’ll assume you have a fixed sessionId that you send to Google Analytics. Google Analytics uses a sessionId to distinguish different users from each other. If you want to create an anonymous sessionId, see "),a(s,{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/cookies-user-id"},{default:o(()=>[t("Analytics Documentation on user id")]),_:1}),t(".")])]),n("p",null,[t("Place the Tag Manager snippet into head of your "),b,t(" file (if you’ve followed the "),a(s,{to:"http://www.multiminds.eu/2016/12/06/google-analytics-tag-manager-ionic-cordova/"},{default:o(()=>[t("Multiminds article")]),_:1}),t(", you already have this.) Create a new file in your codebase called "),A,t(" with the following contents:")]),a(e(l),null,{default:o(()=>[G,a(c)]),_:1}),I,a(e(l),null,{default:o(()=>[C,a(c,{lang:"bash"})]),_:1}),q,a(e(l),null,{default:o(()=>[P,a(c)]),_:1}),x,a(e(l),null,{default:o(()=>[D,a(c)]),_:1}),n("p",null,[t("More information about events can be found in the "),a(s,{to:"https://developers.google.com/analytics/devguides/collection/analyticsjs/events"},{default:o(()=>[t("Analytics documentation on events")]),_:1}),t(".")]),L]),_:1}))}},$=k(j,[["__file","managing-google-analytics.md"]]);export{$ as default};
