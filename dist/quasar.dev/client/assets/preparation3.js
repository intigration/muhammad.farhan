import{c as i}from"./_examples_frameless-electron-window.js";import{D as u,a as l}from"./DocPage.js";import{D as d}from"./DocPrerender.js";import{C as c}from"./CopyButton.js";import{_ as h}from"./index.js";import{b as v,d as m,w as n,h as e,f as s,e as t,i as o}from"./vendor.js";const g=e("p",null,"Before we dive into the actual development, we need to do some preparation work.",-1),k=e("p",null,"The first step is to make sure you got the Cordova CLI installed and the necessary SDKs.",-1),w=e("pre",{class:"doc-code"},[e("code",null,[o("$ "),e("span",{class:"token function"},"npm"),o(),e("span",{class:"token function"},"install"),o(),e("span",{class:"token parameter variable"},"-g"),o(" cordova")])],-1),_=e("div",{class:"doc-note doc-note--warning"},[e("p",{class:"doc-note__title"},"WARNING"),e("p",null,[o("Depending on your version of Android Studio, you might need to re-enable the “Android SDK Tools”. You can do this by going to “Tools > SDK Manager > SDK Tools” then un-ticking “Hide Obsolete Packages” and ticking “Android SDK Tools (Obsolete)”. "),e("strong",null,"The instructions below assume this has been done.")])],-1),b=e("div",{class:"doc-note doc-note--warning"},[e("p",{class:"doc-note__title"},"WARNING"),e("p",null,[o("The environmental variable "),e("code",{class:"doc-token"},"ANDROID_HOME"),o(" has been deprecated and replaced with "),e("code",{class:"doc-token"},"ANDROID_SDK_ROOT"),o(". Depending on your version of Android Studio you may need one or the other. It doesn’t hurt to have both set.")])],-1),f=e("li",null,[e("p",null,[o("Make sure that after you install the Android SDK you then accept its licenses. Open the terminal and go to the folder where the SDK was installed, in tools/bin, and call "),e("code",{class:"doc-token"},"sdkmanager --licenses"),o(".")])],-1),D=e("li",null,[e("p",null,"Add Android installation to your path:")],-1),S=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token builtin class-name"},"export"),o(),e("span",{class:"token assign-left variable"},"ANDROID_HOME"),e("span",{class:"token operator"},"="),e("span",{class:"token string"},[o('"'),e("span",{class:"token environment constant"},"$HOME"),o('/Android/Sdk"')]),o(`
`),e("span",{class:"token builtin class-name"},"export"),o(),e("span",{class:"token assign-left variable"},"ANDROID_SDK_ROOT"),e("span",{class:"token operator"},"="),e("span",{class:"token string"},[o('"'),e("span",{class:"token environment constant"},"$HOME"),o('/Android/Sdk"')]),o(`
`),e("span",{class:"token builtin class-name"},"export"),o(),e("span",{class:"token assign-left variable"},[e("span",{class:"token environment constant"},"PATH")]),e("span",{class:"token operator"},"="),e("span",{class:"token environment constant"},"$PATH"),e("span",{class:"token builtin class-name"},":"),e("span",{class:"token variable"},"$ANDROID_SDK_ROOT"),o("/tools"),e("span",{class:"token punctuation"},";"),o(),e("span",{class:"token assign-left variable"},[e("span",{class:"token environment constant"},"PATH")]),e("span",{class:"token operator"},"="),e("span",{class:"token environment constant"},"$PATH"),e("span",{class:"token builtin class-name"},":"),e("span",{class:"token variable"},"$ANDROID_SDK_ROOT"),o("/platform-tools")])],-1),y=e("blockquote",{class:"doc-note"},[e("p",null,[o("Please note that sometimes the "),e("code",{class:"doc-token"},"/Android/Sdk"),o(" folder is added inside "),e("code",{class:"doc-token"},"/Library/"),o(" inside your user folder. Check your user folder and if the "),e("code",{class:"doc-token"},"/Android/"),o(" folder is only inside "),e("code",{class:"doc-token"},"/Library/"),o(" do: "),e("code",{class:"doc-token"},'export ANDROID_SDK_ROOT="$HOME/Library/Android/Sdk"'),o(" or "),e("code",{class:"doc-token"},'export ANDROID_HOME="$HOME/Library/Android/Sdk"'),o(" instead.")])],-1),A=e("p",null,"After installing Android Studio, you need to install two more pieces of software:",-1),O=e("li",null,[o("add "),e("code",{class:"doc-token"},"ANDROID_SDK_ROOT"),o(". It can safely be set to: “%USERPROFILE%\\AppData\\Local\\Android\\Sdk”")],-1),I=e("li",null,[o("add two "),e("code",{class:"doc-token"},"ANDROID_SDK_ROOT"),o(" directories to your path: %ANDROID_SDK_ROOT%\\tools;%ANDROID_SDK_ROOT%\\platform-tools")],-1),C=e("li",null,"add Gradle to your path. Note that Gradle does not have an installer. You just put the binary files where you want them, then add the bin directory to your path.",-1),R=e("code",{class:"doc-token"},"JAVA_HOME",-1),T=e("blockquote",{class:"doc-note"},[e("p",null,[o("You can check the value of an environment variable by typing in console "),e("code",{class:"doc-token"},"echo %ENVIRONMENT_VARIABLE%"),o(".")])],-1),K=e("p",null,"If you have an init script for your command prompt or powershell, you can try this:",-1),q=e("pre",{class:"doc-code"},[e("code",null,[o("setx ANDROID_HOME "),e("span",{class:"token string"},'"%USERPROFILE%\\AppData\\Local\\Android\\Sdk"'),o(`
setx ANDROID_SDK_ROOT `),e("span",{class:"token string"},'"%USERPROFILE%\\AppData\\Local\\Android\\Sdk"'),o(`
setx path `),e("span",{class:"token string"},[o('"%path%;%ANDROID_SDK_ROOT%'),e("span",{class:"token entity",title:"\\t"},"\\t"),o("ools;%ANDROID_SDK_ROOT%\\platform-tools;<gradle_path>"),e("span",{class:"token entity",title:"\\b"},"\\b"),o('in;"')])])],-1),x=e("p",null,"After the tools are installed, set up Android Studio with the correct SDK and create a virtual machine.",-1),N=e("ul",null,[e("li",null,[e("p",null,"Start Android Studio (check the executable in the folder that you installed it in). The next step is to install the individual SDKs:")]),e("li",null,[e("p",null,"Open the “Configure” menu at the bottom of the window:"),e("p",null,[e("img",{src:"https://cdn.quasar.dev/img/Android-Studio-SDK-Menu.png",alt:"",title:"SDK manager",class:"doc-img"})])]),e("li",null,[e("p",null,"Select the desired SDKs. As of December 2019, Cordova requires android-28 (Android 9.0 - Pie) so be sure to include it. Click on “Apply” to install the SDKs."),e("p",null,[e("img",{src:"https://cdn.quasar.dev/img/Android-Studio-SDK-selection.png",alt:"",title:"SDK selection",class:"doc-img"})])])],-1),$=e("p",null,[o("In order to develop/build a Mobile app, we need to add the Cordova mode to our Quasar project. What this does is that it uses Cordova CLI to generate a Cordova project in the "),e("code",{class:"doc-token"},"/src-cordova"),o(" folder. The "),e("code",{class:"doc-token"},"/src-cordova/www"),o(" folder will be overwritten each time you build.")],-1),E=e("pre",{class:"doc-code"},[e("code",null,[o("$ quasar mode "),e("span",{class:"token function"},"add"),o(" cordova")])],-1),P=e("p",null,"To switch to the Cordova project, type:",-1),W=e("pre",{class:"doc-code"},[e("code",null,[o("$ "),e("span",{class:"token builtin class-name"},"cd"),o(" src-cordova")])],-1),L=e("p",null,"Target platforms get installed on demand by Quasar CLI. However, if you want to add a platform manually, type:",-1),M=e("pre",{class:"doc-code"},[e("code",null,[o("$ cordova platform "),e("span",{class:"token function"},"add"),o(),e("span",{class:"token punctuation"},"["),o("android"),e("span",{class:"token operator"},"|"),o("ios"),e("span",{class:"token punctuation"},"]")])],-1),H=e("p",null,"To verify that everything is in order, type:",-1),V=e("pre",{class:"doc-code"},[e("code",null,"$ cordova requirements")],-1),G={class:"doc-note"},Y=e("code",{class:"doc-token"},"cordova requirements",-1),j=e("p",null,[e("strong",null,"However, choose wisely if you want to replace the default Web View. Each comes with its own caveats."),o(" Make sure that you visit the link above.")],-1),B=e("ol",null,[e("li",null,"Install Ionic Webview Plugin")],-1),Q=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token comment"},"# from /src-cordova"),o(`
$ cordova plugin `),e("span",{class:"token function"},"add"),o(" cordova-plugin-ionic-webview")])],-1),U=e("ol",{start:"2"},[e("li",null,[o("Add "),e("code",{class:"doc-token"},"ScrollEnabled"),o(" preference to "),e("code",{class:"doc-token"},"Config.xml")])],-1),F=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),o("platform")]),o(),e("span",{class:"token attr-name"},"name"),e("span",{class:"token attr-value"},[e("span",{class:"token punctuation attr-equals"},"="),e("span",{class:"token punctuation"},'"'),o("ios"),e("span",{class:"token punctuation"},'"')]),e("span",{class:"token punctuation"},">")]),o(`
  `),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"<"),o("preference")]),o(),e("span",{class:"token attr-name"},"name"),e("span",{class:"token attr-value"},[e("span",{class:"token punctuation attr-equals"},"="),e("span",{class:"token punctuation"},'"'),o("ScrollEnabled"),e("span",{class:"token punctuation"},'"')]),o(),e("span",{class:"token attr-name"},"value"),e("span",{class:"token attr-value"},[e("span",{class:"token punctuation attr-equals"},"="),e("span",{class:"token punctuation"},'"'),o("true"),e("span",{class:"token punctuation"},'"')]),o(),e("span",{class:"token punctuation"},"/>")]),o(`
`),e("span",{class:"token tag"},[e("span",{class:"token tag"},[e("span",{class:"token punctuation"},"</"),o("platform")]),e("span",{class:"token punctuation"},">")])])],-1),J=e("ol",{start:"3"},[e("li",null,"Consult Ionic Docs for caveats on WkWebViewPlugin")],-1),X=e("ol",null,[e("li",null,"Install Cordova WkWebviewEngine Plugin")],-1),z=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token comment"},"# from /src-cordova"),o(`
$ cordova plugin `),e("span",{class:"token function"},"add"),o(" cordova-plugin-wkwebview-engine")])],-1),Z={start:"2"},ee=e("p",null,"You can start the development server with the command below:",-1),oe=e("pre",{class:"doc-code"},[e("code",null,[o("$ quasar dev "),e("span",{class:"token parameter variable"},"-m"),o(" cordova "),e("span",{class:"token parameter variable"},"-T"),o(),e("span",{class:"token punctuation"},"["),o("android"),e("span",{class:"token operator"},"|"),o("ios"),e("span",{class:"token punctuation"},"]"),o(`

`),e("span",{class:"token comment"},"# passing extra parameters and/or options to"),o(`
`),e("span",{class:"token comment"},'# underlying "cordova" executable:'),o(`
$ quasar dev `),e("span",{class:"token parameter variable"},"-m"),o(" ios -- some params "),e("span",{class:"token parameter variable"},"--and"),o(" options "),e("span",{class:"token parameter variable"},"--here"),o(`
`),e("span",{class:"token comment"},"# when on Windows and using PowerShell:"),o(`
$ quasar dev `),e("span",{class:"token parameter variable"},"-m"),o(" ios "),e("span",{class:"token string"},"'--'"),o(" some params "),e("span",{class:"token parameter variable"},"--and"),o(" options "),e("span",{class:"token parameter variable"},"--here")])],-1),te=e("p",null,"This will also add Cordova mode and install the related Cordova platform automatically if it is missing.",-1),ne=e("div",{class:"doc-note doc-note--warning"},[e("p",{class:"doc-note__title"},"WARNING"),e("p",null,[o("In Android Studio, you will be greeted with a message recommending to upgrade the Gradle version. "),e("strong",null,"DO NOT UPGRADE GRADLE"),o(" as it will break the Cordova project. The same goes for any other requested upgrades.")]),e("img",{src:"https://cdn.quasar.dev/img/gradle-upgrade-notice.png",alt:"Gradle upgrade",class:"q-my-md rounded-borders",style:{"max-width":"350px"}}),e("p",null,"If you encounter any IDE errors then click on File > Invalidate caches and restart."),e("img",{src:"https://cdn.quasar.dev/img/gradle-invalidate-cache.png",alt:"Gradle upgrade",class:"q-mt-md rounded-borders",style:{"max-width":"350px"}})],-1),ae={__name:"preparation",setup(se){const p=[{id:"step-1-installation",title:"2. Step 1: Installation"},{id:"android-setup",title:"2.1. Android Setup",sub:!0},{id:"ios-setup",title:"2.2. iOS Setup",sub:!0},{id:"step-2-add-cordova-quasar-mode",title:"3. Step 2: Add Cordova Quasar Mode"},{id:"step-3-add-platform",title:"4. Step 3: Add Platform"},{id:"switching-to-ios-wkwebview",title:"4.1. Switching to iOS WkWebView",sub:!0},{id:"step-4-start-developing",title:"5. Step 4: Start Developing"}];return(le,a)=>(v(),m(u,{title:"Preparation for Cordova App",desc:"(@quasar/app-vite) What you need to do before developing a Quasar hybrid mobile app with Cordova.",overline:"Quasar CLI with Vite - @quasar/app-vite",heading:"","edit-link":"quasar-cli-vite/developing-cordova-apps/preparation",toc:p},{default:n(()=>[g,e("h2",{id:"step-1-installation",class:"doc-heading doc-h2",onClick:a[0]||(a[0]=r=>s(i)("step-1-installation"))},"Step 1: Installation"),k,t(s(d),null,{default:n(()=>[w,t(c,{lang:"bash"})]),_:1}),_,b,e("h3",{id:"android-setup",class:"doc-heading doc-h3",onClick:a[1]||(a[1]=r=>s(i)("android-setup"))},"Android Setup"),e("ul",null,[e("li",null,[e("p",null,[o("After this step you will need to install the Android platform SDK on your machine. You can "),t(l,{to:"https://developer.android.com/studio"},{default:n(()=>[o("download the Android Studio here")]),_:1}),o(" and follow these "),t(l,{to:"https://developer.android.com/studio/install"},{default:n(()=>[o("installation steps")]),_:1}),o(" afterward.")])]),f,D]),e("h4",{id:"unix-macos-linux-",class:"doc-heading doc-h4",onClick:a[2]||(a[2]=r=>s(i)("unix-macos-linux-"))},"Unix (macOS, Linux)"),t(s(d),null,{default:n(()=>[S,t(c,{lang:"bash"})]),_:1}),y,e("h4",{id:"windows",class:"doc-heading doc-h4",onClick:a[3]||(a[3]=r=>s(i)("windows"))},"Windows"),A,e("ul",null,[e("li",null,[o("JDK from Oracle. It can be found "),t(l,{to:"https://www.oracle.com/java/technologies/downloads/#java8"},{default:n(()=>[o("here")]),_:1})]),e("li",null,[o("Gradle. It used to be usable from Android Studio but now you have to install it separately. There is a particular version that Cordova requires. You can download it "),t(l,{to:"https://gradle.org/next-steps/?version=4.10.3&format=all"},{default:n(()=>[o("here")]),_:1})])]),e("p",null,[o("Then you will have to set environment variables. You will need to set the following variables. Cordova has a good guide for it already. It can be found "),t(l,{to:"https://cordova.apache.org/docs/en/latest/guide/platforms/android/#setting-environment-variables"},{default:n(()=>[o("here")]),_:1}),o(". You need to:")]),e("ul",null,[O,I,C,e("li",null,[o("add "),R,o(". Its value depends on where you installed it. You can "),t(l,{to:"https://www.oracle.com/java/technologies/downloads/"},{default:n(()=>[o("download the JDK here")]),_:1})])]),T,K,t(s(d),null,{default:n(()=>[q,t(c,{lang:"bash"})]),_:1}),x,N,e("h3",{id:"ios-setup",class:"doc-heading doc-h3",onClick:a[4]||(a[4]=r=>s(i)("ios-setup"))},"iOS Setup"),e("p",null,[o("You will need a macOS with "),t(l,{to:"https://developer.apple.com/xcode/"},{default:n(()=>[o("Xcode")]),_:1}),o(" installed. After you’ve installed it, open Xcode in order to get the license prompt. Accept the license, then you can close it.")]),e("h2",{id:"step-2-add-cordova-quasar-mode",class:"doc-heading doc-h2",onClick:a[5]||(a[5]=r=>s(i)("step-2-add-cordova-quasar-mode"))},"Step 2: Add Cordova Quasar Mode"),$,t(s(d),null,{default:n(()=>[E,t(c,{lang:"bash"})]),_:1}),e("h2",{id:"step-3-add-platform",class:"doc-heading doc-h2",onClick:a[6]||(a[6]=r=>s(i)("step-3-add-platform"))},"Step 3: Add Platform"),P,t(s(d),null,{default:n(()=>[W,t(c,{lang:"bash"})]),_:1}),L,t(s(d),null,{default:n(()=>[M,t(c,{lang:"bash"})]),_:1}),H,t(s(d),null,{default:n(()=>[V,t(c,{lang:"bash"})]),_:1}),e("blockquote",G,[e("p",null,[o("On some newer Debian-based operating systems you might face a very persistent problem when running "),Y,o(". Please see the "),t(l,{to:"/quasar-cli-vite/developing-cordova-apps/troubleshooting-and-tips#Android-SDK-not-found-after-installation-of-the-SDK"},{default:n(()=>[o("“Android SDK not found” after installation")]),_:1}),o(" section for assistance.")])]),e("h3",{id:"switching-to-ios-wkwebview",class:"doc-heading doc-h3",onClick:a[7]||(a[7]=r=>s(i)("switching-to-ios-wkwebview"))},"Switching to iOS WkWebView"),e("p",null,[o("Switching to WKWebView is highly recommended (but optional!) as UIWebView has been deprecated in iOS 12.0 as described in this Cordova blog post: "),t(l,{to:"https://cordova.apache.org/news/2018/08/01/future-cordova-ios-webview.html"},{default:n(()=>[o("https://cordova.apache.org/news/2018/08/01/future-cordova-ios-webview.html")]),_:1}),o(".")]),j,e("h4",{id:"option-1-ionic-webview-plugin",class:"doc-heading doc-h4",onClick:a[8]||(a[8]=r=>s(i)("option-1-ionic-webview-plugin"))},"Option 1: Ionic Webview Plugin"),B,t(s(d),null,{default:n(()=>[Q,t(c,{lang:"bash"})]),_:1}),U,t(s(d),null,{default:n(()=>[F,t(c)]),_:1}),J,e("ul",null,[e("li",null,[t(l,{to:"https://beta.ionicframework.com/docs/building/webview"},{default:n(()=>[o("https://beta.ionicframework.com/docs/building/webview")]),_:1})]),e("li",null,[t(l,{to:"https://github.com/ionic-team/cordova-plugin-ionic-webview"},{default:n(()=>[o("https://github.com/ionic-team/cordova-plugin-ionic-webview")]),_:1})])]),e("h4",{id:"option-2-cordova-wkwebviewengine-plugin",class:"doc-heading doc-h4",onClick:a[9]||(a[9]=r=>s(i)("option-2-cordova-wkwebviewengine-plugin"))},"Option 2: Cordova WkWebviewEngine Plugin"),X,t(s(d),null,{default:n(()=>[z,t(c,{lang:"bash"})]),_:1}),e("ol",Z,[e("li",null,[o("For caveats and more info, visit: "),t(l,{to:"https://github.com/apache/cordova-plugin-wkwebview-engine"},{default:n(()=>[o("https://github.com/apache/cordova-plugin-wkwebview-engine")]),_:1})])]),e("h2",{id:"step-4-start-developing",class:"doc-heading doc-h2",onClick:a[10]||(a[10]=r=>s(i)("step-4-start-developing"))},"Step 4: Start Developing"),ee,t(s(d),null,{default:n(()=>[oe,t(c,{lang:"bash"})]),_:1}),te,e("p",null,[o("You will be able to run the app on your mobile device if you have one, or through the emulator. See "),t(l,{to:"https://quasar.dev/quasar-cli-vite/developing-cordova-apps/build-commands#developing"},{default:n(()=>[o("Mobile App Build Commands > Developing")]),_:1}),o(" for more information.")]),ne]),_:1}))}},he=h(ae,[["__file","preparation.md"]]);export{he as default};
