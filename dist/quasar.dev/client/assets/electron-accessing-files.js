import{c}from"./_examples_frameless-electron-window.js";import{D as u}from"./DocPage.js";import{D as k}from"./DocTree.js";import{D as l}from"./DocPrerender.js";import{C as i}from"./CopyButton.js";import{_ as m}from"./index.js";import{b as f,d as h,w as a,h as e,f as t,e as n,i as s}from"./vendor.js";const _=e("p",null,[s("Since the main process is bundled using Esbuild, the use of "),e("code",{class:"doc-token"},"__dirname"),s(" and "),e("code",{class:"doc-token"},"__filename"),s(" will not provide an expected value in production. Referring to the File Tree, you’ll notice that in production the electron-main.js and electron-preload.js files are placed inside the "),e("code",{class:"doc-token"},"dist/electron-*"),s(" folder. Based on this knowledge, use "),e("code",{class:"doc-token"},"__dirname"),s(" & "),e("code",{class:"doc-token"},"__filename"),s(" accordingly.")],-1),g=e("p",null,"One great benefit of using Electron is the ability to access the user’s file system. This enables you to read and write files on the local system. To help avoid Chromium restrictions and writing to your application’s internal files, make sure to make use of electron’s APIs, specifically the app.getPath(name) function. This helper method can get you file paths to system directories such as the user’s desktop, system temporary files, etc.",-1),y=e("p",null,"We can use the userData directory, which is reserved specifically for our application, so we can have confidence other programs or other user interactions should not tamper with this file space.",-1),w=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token keyword"},"import"),s(" path "),e("span",{class:"token keyword"},"from"),s(),e("span",{class:"token string"},"'path'"),s(`
`),e("span",{class:"token keyword"},"import"),s(),e("span",{class:"token punctuation"},"{"),s(" app "),e("span",{class:"token punctuation"},"}"),s(),e("span",{class:"token keyword"},"from"),s(),e("span",{class:"token string"},"'@electron/remote'"),s(`

`),e("span",{class:"token keyword"},"const"),s(" filePath "),e("span",{class:"token operator"},"="),s(" path"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"join"),e("span",{class:"token punctuation"},"("),s("app"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"getPath"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"'userData'"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),s(),e("span",{class:"token string"},"'/some.file'"),e("span",{class:"token punctuation"},")")])],-1),b=e("p",null,[s("If you import "),e("code",{class:"doc-token"},"@electron/remote"),s(" in your preload script, then you need to set the following in your "),e("code",{class:"doc-token"},"electron-main.js"),s(" where you instantiate BrowserWindow:")],-1),v=e("pre",{class:"doc-code"},[e("code",null,[s("mainWindow "),e("span",{class:"token operator"},"="),s(),e("span",{class:"token keyword"},"new"),s(),e("span",{class:"token class-name"},"BrowserWindow"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},"{"),s(`
  `),e("span",{class:"token comment"},"// ..."),s(`
  `),e("span",{class:"token literal-property property"},"webPreferences"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token punctuation"},"{"),s(`
    `),e("span",{class:"token comment"},"// ..."),s(`
    `),e("span",{class:"token literal-property property"},"sandbox"),e("span",{class:"token operator"},":"),s(),e("span",{class:"token boolean"},"false"),s(),e("span",{class:"token comment"},"// <-- to be able to import @electron/remote in preload script"),s(`
  `),e("span",{class:"token punctuation"},"}"),s(`
`),e("span",{class:"token punctuation"},"}")])],-1),P=e("p",null,"If for some reason, you have important files that you are storing in the /public folder, you can access those too by following the code below. To understand why you need to access them this way, please read the “Using __dirname & __filename” section above.",-1),C=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token keyword"},"import"),s(" path "),e("span",{class:"token keyword"},"from"),s(),e("span",{class:"token string"},"'path'"),s(`

`),e("span",{class:"token keyword"},"const"),s(" publicFolder "),e("span",{class:"token operator"},"="),s(" path"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"resolve"),e("span",{class:"token punctuation"},"("),s("__dirname"),e("span",{class:"token punctuation"},","),s(" process"),e("span",{class:"token punctuation"},"."),s("env"),e("span",{class:"token punctuation"},"."),e("span",{class:"token constant"},"QUASAR_PUBLIC_FOLDER"),e("span",{class:"token punctuation"},")")])],-1),D={__name:"electron-accessing-files",setup(F){const p=[{id:"using-dirname-and-filename",title:"2. Using __dirname & __filename"},{id:"read-and-write-local-files",title:"3. Read & Write Local Files"},{id:"accessing-the-public-folder",title:"4. Accessing the Public Folder"}],d={tree:{l:"app.asar",c:[{l:"dist",c:[{l:"electron-*",c:[{l:"js/..."},{l:"icons/"},{l:"node_modules/"},{l:"index.html"},{l:"package.json"},{l:"electron-main.js"},{l:"electron-preload.js"},{l:"...contents of /public"}]}]}]}};return(j,o)=>(f(),h(u,{title:"Electron Accessing Files",desc:"(@quasar/app-vite) How to access files in a Quasar desktop app.",overline:"Quasar CLI with Vite - @quasar/app-vite",heading:"","edit-link":"quasar-cli-vite/developing-electron-apps/electron-accessing-files",toc:p},{default:a(()=>[e("h2",{id:"using-dirname-and-filename",class:"doc-heading doc-h2",onClick:o[0]||(o[0]=r=>t(c)("using-dirname-and-filename"))},"Using __dirname & __filename"),_,n(k,{def:d.tree},null,8,["def"]),e("h2",{id:"read-and-write-local-files",class:"doc-heading doc-h2",onClick:o[1]||(o[1]=r=>t(c)("read-and-write-local-files"))},"Read & Write Local Files"),g,y,n(t(l),{title:"/electron-main or /electron-preload"},{default:a(()=>[w,n(i)]),_:1}),b,n(t(l),null,{default:a(()=>[v,n(i)]),_:1}),e("h2",{id:"accessing-the-public-folder",class:"doc-heading doc-h2",onClick:o[2]||(o[2]=r=>t(c)("accessing-the-public-folder"))},"Accessing the Public Folder"),P,n(t(l),{title:"/electron-main or /electron-preload"},{default:a(()=>[C,n(i)]),_:1})]),_:1}))}},R=m(D,[["__file","electron-accessing-files.md"]]);export{R as default};
