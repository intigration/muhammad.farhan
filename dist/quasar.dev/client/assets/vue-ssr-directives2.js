import{c}from"./_examples_frameless-electron-window.js";import{D as r,a as l}from"./DocPage.js";import{D as p}from"./DocPrerender.js";import{C as u}from"./CopyButton.js";import{_ as d}from"./index.js";import{b as h,d as k,w as n,h as e,f as a,i as t,e as o}from"./vendor.js";const m=e("div",{class:"doc-note doc-note--warning"},[e("p",{class:"doc-note__title"},"WARNING"),e("p",null,"This guide refers to usage with Quasar v2.6+ and @quasar/app-webpack v3.4+")],-1),v=e("p",null,"A SSR app has the same code running on server and on client. Declaring a Vue directive (or directly importing it) in a .vue SFC file is usually enough for making it to work on non-SSR builds. But on SSR builds and due to the architecture of Vue 3 it requires some extra leg work.",-1),g=e("p",null,"Server-side builds require all Vue directives to also specify a getSSRProps() method in their definition.",-1),f=e("div",{class:"doc-note doc-note--tip"},[e("p",{class:"doc-note__title"},"TIP"),e("ul",null,[e("li",null,"You will NOT need to do anything for the Quasar supplied Vue directives to work."),e("li",null,"However, if you are using a third-party supplied Vue directive and the CLI errors out on it then you will need to contact the owner of that package in order for them to make it compliant with Vue 3 SSR specs (which is to add the getSSRProps() method in the directiveâ€™s definition).")])],-1),w=e("blockquote",{class:"doc-note"},[e("p",null,"Since most custom directives involve direct DOM manipulation, they are ignored during SSR. However, if you want to specify how a custom directive should be rendered (i.e. what attributes it should add to the rendered element), you can use the getSSRProps directive hook:")],-1),_=e("pre",{class:"doc-code"},[e("code",null,[e("span",{class:"token keyword"},"const"),t(" myDirective "),e("span",{class:"token operator"},"="),t(),e("span",{class:"token punctuation"},"{"),t(`
  `),e("span",{class:"token function"},"mounted"),t(),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[t("el"),e("span",{class:"token punctuation"},","),t(" binding")]),e("span",{class:"token punctuation"},")"),t(),e("span",{class:"token punctuation"},"{"),t(`
    `),e("span",{class:"token comment"},"// client-side implementation:"),t(`
    `),e("span",{class:"token comment"},"// directly update the DOM"),t(`
    el`),e("span",{class:"token punctuation"},"."),t("id "),e("span",{class:"token operator"},"="),t(" binding"),e("span",{class:"token punctuation"},"."),t(`value
  `),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),t(`

  `),e("span",{class:"token function"},"getSSRProps"),t(),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},"binding"),e("span",{class:"token punctuation"},")"),t(),e("span",{class:"token punctuation"},"{"),t(`
    `),e("span",{class:"token comment"},"// server-side implementation:"),t(`
    `),e("span",{class:"token comment"},"// return the props to be rendered."),t(`
    `),e("span",{class:"token comment"},"// getSSRProps only receives the directive binding."),t(`
    `),e("span",{class:"token keyword"},"return"),t(),e("span",{class:"token punctuation"},"{"),t(`
      `),e("span",{class:"token literal-property property"},"id"),e("span",{class:"token operator"},":"),t(" binding"),e("span",{class:"token punctuation"},"."),t(`value
    `),e("span",{class:"token punctuation"},"}"),t(`
  `),e("span",{class:"token punctuation"},"}"),t(`
`),e("span",{class:"token punctuation"},"}")])],-1),S={__name:"vue-ssr-directives",setup(y){const i=[{id:"how-to-declare-a-directive",title:"2. How to declare a directive"}];return(b,s)=>(h(),k(r,{title:"Vue SSR Directives",desc:"(@quasar/app-webpack) Managing the Vue directives for SSR in a Quasar app.",overline:"Quasar CLI with Webpack - @quasar/app-webpack",heading:"","edit-link":"quasar-cli-webpack/developing-ssr/vue-ssr-directives",toc:i},{default:n(()=>[m,v,g,f,e("h2",{id:"how-to-declare-a-directive",class:"doc-heading doc-h2",onClick:s[0]||(s[0]=R=>a(c)("how-to-declare-a-directive"))},"How to declare a directive"),e("p",null,[t("The following is taken from "),o(l,{to:"https://vuejs.org/guide/scaling-up/ssr.html#custom-directives"},{default:n(()=>[t("Vue.js docs")]),_:1}),t(":")]),w,o(a(p),null,{default:n(()=>[_,o(u)]),_:1})]),_:1}))}},N=d(S,[["__file","vue-ssr-directives.md"]]);export{N as default};
