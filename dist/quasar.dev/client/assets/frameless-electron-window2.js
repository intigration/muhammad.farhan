function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/_examples_frameless-electron-window.js","assets/vendor.js","assets/vendor.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as w,a as h}from"./index.js";import{p as g,b as f,d as y,w as a,h as n,i as s,e as t,f as e,k as u}from"./vendor.js";import{c as p}from"./_examples_frameless-electron-window.js";import{D as _,a as k}from"./DocPage.js";import{D as b}from"./DocExample.js";import{D as l}from"./DocPrerender.js";import{C as c}from"./CopyButton.js";import"./DocCode.js";import"./DocCodepen.js";import"./utils.js";import"./DocCardTitle.js";const x=n("p",null,[s("Firstly, install the "),n("code",{class:"doc-token"},"@electron/remote"),s(" dependency into your app.")],-1),v=n("pre",{class:"doc-code"},[n("code",null,[s("$ "),n("span",{class:"token function"},"yarn"),s(),n("span",{class:"token function"},"add"),s(" @electron/remote")])],-1),z=n("pre",{class:"doc-code"},[n("code",null,[s("$ "),n("span",{class:"token function"},"npm"),s(),n("span",{class:"token function"},"install"),s(),n("span",{class:"token parameter variable"},"--save"),s(" @electron/remote")])],-1),W=n("pre",{class:"doc-code"},[n("code",null,[s("$ "),n("span",{class:"token function"},"pnpm"),s(),n("span",{class:"token function"},"add"),s(" @electron/remote")])],-1),q=n("pre",{class:"doc-code"},[n("code",null,[s("$ bun "),n("span",{class:"token function"},"add"),s(" @electron/remote")])],-1),P=n("p",null,[s("Then, in your "),n("code",{class:"doc-token"},"src-electron/main-process/electron-main.js"),s(" file, make some edits to these lines:")],-1),B=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" app"),n("span",{class:"token punctuation"},","),s(" BrowserWindow"),n("span",{class:"token punctuation"},","),s(" nativeTheme "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'electron'"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" initialize"),n("span",{class:"token punctuation"},","),s(" enable "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'@electron/remote/main'"),s(),n("span",{class:"token comment"},"// <-- add this"),s(`
`),n("span",{class:"token keyword"},"import"),s(" path "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'path'"),s(`

`),n("span",{class:"token function"},"initialize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// <-- add this"),s(`

`),n("span",{class:"token comment"},"// ..."),s(`

mainWindow `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"BrowserWindow"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"width"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1000"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"height"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"600"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"useContentSize"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"frame"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),s(),n("span",{class:"token comment"},"// <-- add this"),s(`
  `),n("span",{class:"token literal-property property"},"webPreferences"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"sandbox"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),s(),n("span",{class:"token comment"},"// <-- to be able to import @electron/remote in preload script"),s(`
    `),n("span",{class:"token comment"},"// ..."),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token function"},"enable"),n("span",{class:"token punctuation"},"("),s("mainWindow"),n("span",{class:"token punctuation"},"."),s("webContents"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// <-- add this"),s(`

mainWindow`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"loadURL"),n("span",{class:"token punctuation"},"("),s("process"),n("span",{class:"token punctuation"},"."),s("env"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"APP_URL"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token comment"},"// ...")])],-1),M=n("p",null,"Notice that we need to explicitly enable the remote module too. We’ll be using it in the preload script to provide the renderer thread with the window minimize/maximize/close functionality.",-1),C=n("p",null,[s("Since we can’t directly access Electron from within the renderer thread, we’ll need to provide the necessary functionality through the electron preload script ("),n("code",{class:"doc-token"},"src-electron/main-process/electron-preload.js"),s("). So we edit it to:")],-1),S=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" contextBridge "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'electron'"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" BrowserWindow "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'@electron/remote'"),s(`

contextBridge`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"exposeInMainWorld"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'myWindowAPI'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function"},"minimize"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    BrowserWindow`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getFocusedWindow"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"minimize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`

  `),n("span",{class:"token function"},"toggleMaximize"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"const"),s(" win "),n("span",{class:"token operator"},"="),s(" BrowserWindow"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getFocusedWindow"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("win"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"isMaximized"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      win`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unmaximize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
      win`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"maximize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`

  `),n("span",{class:"token function"},"close"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    BrowserWindow`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getFocusedWindow"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")])],-1),A=n("p",null,[s("When we use a frameless window (only frameless!) we also need a way for the user to be able to move the app window around the screen. You can use "),n("code",{class:"doc-token"},"q-electron-drag"),s(" and "),n("code",{class:"doc-token"},"q-electron-drag--exception"),s(" Quasar CSS helper classes for this.")],-1),E=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("q-bar")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("q-electron-drag"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
  ...
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("q-bar")]),n("span",{class:"token punctuation"},">")])])],-1),D=n("p",null,"What this does is that it allows the user to drag the app window when clicking, holding and simultaneously dragging the mouse on the screen.",-1),I=n("strong",null,"excepted from this behavior",-1),$=n("code",{class:"doc-token"},"q-electron-drag",-1),N=n("code",{class:"doc-token"},"q-electron-drag--exception",-1),Q=n("p",null,"Example of adding an exception to an icon:",-1),T=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("q-bar")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("q-electron-drag"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("q-icon")]),s(),n("span",{class:"token attr-name"},"name"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("map"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("q-electron-drag--exception"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`

  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),n("span",{class:"token punctuation"},">")]),s("My title"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("q-bar")]),n("span",{class:"token punctuation"},">")])])],-1),F=n("p",null,[s("In the example above, notice that we add "),n("code",{class:"doc-token"},"q-electron-drag"),s(" to our QBar and we also add handlers for the minimize, maximize and close app buttons by using the injected "),n("code",{class:"doc-token"},"window.myWindowAPI"),s(" Object (from the Electron preload script).")],-1),R=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token comment"},"// We guard the Electron API calls, but this"),s(`
`),n("span",{class:"token comment"},"// is only needed if we build same app with other"),s(`
`),n("span",{class:"token comment"},"// Quasar Modes as well (SPA/PWA/Cordova/SSR...)"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token function"},"setup"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// we rely upon"),s(`
    `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"minimize"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("process"),n("span",{class:"token punctuation"},"."),s("env"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"MODE"),s(),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'electron'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        window`),n("span",{class:"token punctuation"},"."),s("myWindowAPI"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"minimize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"toggleMaximize"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("process"),n("span",{class:"token punctuation"},"."),s("env"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"MODE"),s(),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'electron'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        window`),n("span",{class:"token punctuation"},"."),s("myWindowAPI"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toggleMaximize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"closeApp"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("process"),n("span",{class:"token punctuation"},"."),s("env"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"MODE"),s(),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'electron'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        window`),n("span",{class:"token punctuation"},"."),s("myWindowAPI"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),s(" minimize"),n("span",{class:"token punctuation"},","),s(" toggleMaximize"),n("span",{class:"token punctuation"},","),s(" closeApp "),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}")])],-1),H={__name:"frameless-electron-window",setup(L){g("_q_ex",{name:"frameless-electron-window",list:h(()=>import("./_examples_frameless-electron-window.js").then(r=>r._),__vite__mapDeps([0,1,2]))});const d=[{name:"Bar",category:"Vue Components",path:"/vue-components/bar"}],m=[{id:"main-thread",title:"2. Main thread"},{id:"setting-frameless-window",title:"2.1. Setting frameless window",sub:!0},{id:"the-preload-script",title:"2.2. The preload script",sub:!0},{id:"renderer-thread",title:"3. Renderer thread"},{id:"handling-window-dragging",title:"3.1. Handling window dragging",sub:!0},{id:"minimize-maximize-and-close-app",title:"3.2. Minimize, maximize and close app",sub:!0}];return(r,o)=>(f(),y(_,{title:"Frameless Electron Window",desc:"(@quasar/app-webpack) How to hide the window frame in a Quasar desktop app.",overline:"Quasar CLI with Webpack - @quasar/app-webpack",heading:"","edit-link":"quasar-cli-webpack/developing-electron-apps/frameless-electron-window",toc:m,related:d},{default:a(()=>[n("p",null,[s("A nice combo is to use frameless Electron window along with "),t(k,{to:"/vue-components/bar"},{default:a(()=>[s("QBar")]),_:1}),s(" component. Here’s why.")]),n("h2",{id:"main-thread",class:"doc-heading doc-h2",onClick:o[0]||(o[0]=i=>e(p)("main-thread"))},"Main thread"),n("h3",{id:"setting-frameless-window",class:"doc-heading doc-h3",onClick:o[1]||(o[1]=i=>e(p)("setting-frameless-window"))},"Setting frameless window"),x,t(e(l),{tabs:["Yarn","NPM","PNPM","Bun"]},{default:a(()=>[t(u,{class:"q-pa-none",name:"Yarn"},{default:a(()=>[v,t(c,{lang:"bash"})]),_:1}),t(u,{class:"q-pa-none",name:"NPM"},{default:a(()=>[z,t(c,{lang:"bash"})]),_:1}),t(u,{class:"q-pa-none",name:"PNPM"},{default:a(()=>[W,t(c,{lang:"bash"})]),_:1}),t(u,{class:"q-pa-none",name:"Bun"},{default:a(()=>[q,t(c,{lang:"bash"})]),_:1})]),_:1}),P,t(e(l),{title:"/src-electron/main-process/electron-main"},{default:a(()=>[B,t(c)]),_:1}),M,n("h3",{id:"the-preload-script",class:"doc-heading doc-h3",onClick:o[2]||(o[2]=i=>e(p)("the-preload-script"))},"The preload script"),C,t(e(l),{title:"/src-electron/main-process/electron-preload"},{default:a(()=>[S,t(c)]),_:1}),n("h2",{id:"renderer-thread",class:"doc-heading doc-h2",onClick:o[3]||(o[3]=i=>e(p)("renderer-thread"))},"Renderer thread"),n("h3",{id:"handling-window-dragging",class:"doc-heading doc-h3",onClick:o[4]||(o[4]=i=>e(p)("handling-window-dragging"))},"Handling window dragging"),A,t(e(l),null,{default:a(()=>[E,t(c)]),_:1}),D,n("p",null,[s("While this is a good feature, you must also take into account that you’ll need to specify some exceptions. There may be elements in your custom statusbar that you do not want to trigger the window dragging. By default, "),t(k,{to:"/vue-components/button"},{default:a(()=>[s("QBtn")]),_:1}),s(" is "),I,s(" (no need to do anything for this). Should you want to add exceptions to any children of the element having "),$,s(" class, you can attach the "),N,s(" CSS class to them.")]),Q,t(e(l),null,{default:a(()=>[T,t(c)]),_:1}),n("h3",{id:"minimize-maximize-and-close-app",class:"doc-heading doc-h3",onClick:o[5]||(o[5]=i=>e(p)("minimize-maximize-and-close-app"))},"Minimize, maximize and close app"),t(b,{title:"Full example",file:"StatusBar"}),F,t(e(l),{title:"Some .vue file"},{default:a(()=>[R,t(c)]),_:1})]),_:1}))}},sn=w(H,[["__file","frameless-electron-window.md"]]);export{sn as default};
