import{b as l,d as u,w as o,h as n,i as e,e as t,f as a}from"./vendor.js";import{D as r,a as s}from"./DocPage.js";import{D as d}from"./DocTree.js";import{D as c}from"./DocPrerender.js";import{C as p}from"./CopyButton.js";import{_ as k}from"./index.js";const m=n("p",null,"This guide is for when you want to create a new UI component and provide it through an App Extension, which will inject it into the hosting app.",-1),h={class:"doc-note doc-note--tip"},f=n("p",{class:"doc-note__title"},"TIP",-1),_={class:"doc-note doc-note--tip"},g=n("p",{class:"doc-note__title"},"Full Example",-1),w=n("p",null,"Create a folder structure to keep your code modularized and organized. For instance, for a UI component, create a structure that looks like this:",-1),y=n("code",{class:"doc-token"},"/index.js",-1),x=n("p",null,"Let’s break it down.",-1),b=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"export"),e(),n("span",{class:"token keyword"},"default"),e(),n("span",{class:"token keyword"},"function"),e(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"api"),n("span",{class:"token punctuation"},")"),e(),n("span",{class:"token punctuation"},"{"),e(`
  `),n("span",{class:"token comment"},"// (Optional!)"),e(`
  `),n("span",{class:"token comment"},"// Quasar compatibility check; you may need"),e(`
  `),n("span",{class:"token comment"},'// hard dependencies, as in a minimum version of the "quasar"'),e(`
  `),n("span",{class:"token comment"},"// package or a minimum version of Quasar App CLI"),e(`
  api`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"compatibleWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'quasar'"),n("span",{class:"token punctuation"},","),e(),n("span",{class:"token string"},"'^2.0.0'"),n("span",{class:"token punctuation"},")"),e(`

  `),n("span",{class:"token keyword"},"if"),e(),n("span",{class:"token punctuation"},"("),e("api"),n("span",{class:"token punctuation"},"."),e("hasVite "),n("span",{class:"token operator"},"==="),e(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},")"),e(),n("span",{class:"token punctuation"},"{"),e(`
    api`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"compatibleWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'@quasar/app-vite'"),n("span",{class:"token punctuation"},","),e(),n("span",{class:"token string"},"'^2.0.0-beta.1'"),n("span",{class:"token punctuation"},")"),e(`
  `),n("span",{class:"token punctuation"},"}"),e(`
  `),n("span",{class:"token keyword"},"else"),e(),n("span",{class:"token punctuation"},"{"),e(),n("span",{class:"token comment"},"// api.hasWebpack === true"),e(`
    api`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"compatibleWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'@quasar/app-webpack'"),n("span",{class:"token punctuation"},","),e(),n("span",{class:"token string"},"'^4.0.0-beta.1'"),n("span",{class:"token punctuation"},")"),e(`
  `),n("span",{class:"token punctuation"},"}"),e(`

  `),n("span",{class:"token comment"},"// Here we extend the /quasar.config file, so we can add"),e(`
  `),n("span",{class:"token comment"},"// a boot file which registers our new UI component;"),e(`
  `),n("span",{class:"token comment"},'// "extendConf" will be defined below (keep reading the tutorial)'),e(`
  api`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"extendQuasarConf"),n("span",{class:"token punctuation"},"("),e("extendConf"),n("span",{class:"token punctuation"},")"),e(`
`),n("span",{class:"token punctuation"},"}")])],-1),v=n("p",null,"The first group does a compatibility check with Quasar (which is optional, but recommended). If your component is using features of Quasar that were available after a certain version, you can make sure that the version of Quasar installed is the correct one.",-1),C={class:"doc-note doc-note--tip"},I=n("p",{class:"doc-note__title"},"TIP",-1),q=n("code",{class:"doc-token"},"api.compatibleWith()",-1),j=n("p",null,[e("The second group tells Quasar to call our custom function when the "),n("code",{class:"doc-token"},"extendQuasarConf"),e(" CLI life-cycle hook is called. It would look something like this:")],-1),A=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"function"),e(),n("span",{class:"token function"},"extendConf"),e(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[e("conf"),n("span",{class:"token punctuation"},","),e(" api")]),n("span",{class:"token punctuation"},")"),e(),n("span",{class:"token punctuation"},"{"),e(`
  `),n("span",{class:"token comment"},"// make sure my-component boot file is registered"),e(`
  conf`),n("span",{class:"token punctuation"},"."),e("boot"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'~quasar-app-extension-my-component/src/boot/register-my-component.js'"),n("span",{class:"token punctuation"},")"),e(`

  `),n("span",{class:"token comment"},"// @quasar/app-vite does not need this"),e(`
  `),n("span",{class:"token keyword"},"if"),e(),n("span",{class:"token punctuation"},"("),e("api"),n("span",{class:"token punctuation"},"."),e("hasVite "),n("span",{class:"token operator"},"!=="),e(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},")"),e(),n("span",{class:"token punctuation"},"{"),e(`
    `),n("span",{class:"token comment"},"// make sure boot & component files get transpiled"),e(`
    conf`),n("span",{class:"token punctuation"},"."),e("build"),n("span",{class:"token punctuation"},"."),e("transpileDependencies"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},"quasar-app-extension-my-component[\\\\/]src"),n("span",{class:"token regex-delimiter"},"/")]),n("span",{class:"token punctuation"},")"),e(`
  `),n("span",{class:"token punctuation"},"}"),e(`

  `),n("span",{class:"token comment"},"// make sure my-component css goes through webpack to avoid ssr issues"),e(`
  conf`),n("span",{class:"token punctuation"},"."),e("css"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'~quasar-app-extension-my-component/src/component/MyComponent.sass'"),n("span",{class:"token punctuation"},")"),e(`
`),n("span",{class:"token punctuation"},"}")])],-1),D=n("pre",{class:"doc-code"},[n("code",null,[n("span",{class:"token keyword"},"import"),e(" MyComponent "),n("span",{class:"token keyword"},"from"),e(),n("span",{class:"token string"},"'../component/MyComponent.vue'"),e(`

`),n("span",{class:"token comment"},"// we globally register our component with Vue"),e(`
`),n("span",{class:"token keyword"},"export"),e(),n("span",{class:"token keyword"},"default"),e(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token punctuation"},"{"),e(" app "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),e(),n("span",{class:"token operator"},"=>"),e(),n("span",{class:"token punctuation"},"{"),e(`
  app`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"component"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'my-component'"),n("span",{class:"token punctuation"},","),e(" MyComponent"),n("span",{class:"token punctuation"},")"),e(`
`),n("span",{class:"token punctuation"},"}")])],-1),Q={__name:"provide-a-ui-component",setup(T){const i={tree:{l:".",c:[{l:"package.json"},{l:"src",c:[{l:"boot",e:"folder to contain boot code",c:[{l:"register-my-component.js",e:"boot file for component"}]},{l:"component",e:"folder to contain component",c:[{l:"MyComponent.vue",e:"component file (can be .vue or even .js)"},{l:"MyComponent.sass",e:"sass file for component (or .scss/.css, or whatever you need)"}]},{l:"index.js",e:"Described in Index API"}]}]}};return(E,M)=>(l(),u(r,{title:"Provide a UI component",desc:"Tips and tricks on how to provide a Vue component to the host app of a Quasar App Extension.",heading:"","edit-link":"app-extensions/tips-and-tricks/provide-a-ui-component"},{default:o(()=>[m,n("div",h,[f,n("p",null,[e("In order for creating an App Extension project folder, please first read the "),t(s,{to:"/app-extensions/development-guide/introduction"},{default:o(()=>[e("Development Guide > Introduction")]),_:1}),e(".")])]),n("div",_,[g,n("p",null,[e("To see an example of what we will build, head over to "),t(s,{to:"https://github.com/quasarframework/app-extension-examples/tree/v2/my-component"},{default:o(()=>[e("MyComponent full example")]),_:1}),e(", which is a GitHub repo with this App Extension.")])]),w,t(d,{def:i.tree},null,8,["def"]),n("p",null,[e("Now, you need to handle registering your component. You do this with the "),y,e(" file (described in the "),t(s,{to:"/app-extensions/development-guide/index-api"},{default:o(()=>[e("Index API")]),_:1}),e(") that was created when you set up your new App Extension.")]),x,t(a(c),{title:"File: /index.js"},{default:o(()=>[b,t(p)]),_:1}),v,n("div",C,[I,n("p",null,[e("Not only can you do a "),q,e(" to check against Quasar packages, but with any other available packages (that you do not supply yourself through your App Extension) as well. Please read "),t(s,{to:"/app-extensions/development-guide/introduction#handling-package-dependencies"},{default:o(()=>[e("Handling package dependencies")]),_:1}),e(" section from the App Extension Development Guide > Introduction page for more information.")])]),j,t(a(c),{title:"File: /index.js"},{default:o(()=>[A,t(p)]),_:1}),n("p",null,[e("Finally, let’s see how the boot file would look like. Make sure that you read the "),t(s,{to:"/quasar-cli-vite/boot-files"},{default:o(()=>[e("@quasar/app-vite Boot files")]),_:1}),e(" / "),t(s,{to:"/quasar-cli-webpack/boot-files"},{default:o(()=>[e("@quasar/app-webpack Boot files")]),_:1}),e(" documentation and understand what a Boot file is first.")]),t(a(c),{title:"File: /src/boot/register-my-component.js"},{default:o(()=>[D,t(p)]),_:1})]),_:1}))}},W=k(Q,[["__file","provide-a-ui-component.md"]]);export{W as default};
