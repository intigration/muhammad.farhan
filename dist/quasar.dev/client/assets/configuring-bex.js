import{c}from"./_examples_frameless-electron-window.js";import{D as p,a}from"./DocPage.js";import{D as r}from"./DocPrerender.js";import{C as u}from"./CopyButton.js";import{_ as h}from"./index.js";import{b as f,d as m,w as o,h as n,i as e,e as t,f as i}from"./vendor.js";const w=n("p",null,"Before we can configure anything, we need to understand how the BEX is structured. A BEX can be one (or more) of the following:",-1),k=n("li",null,"Runs in its own tab in the browser",-1),_=n("li",null,"Runs in the context of a web page (injected into a website)",-1),g=n("strong",null,"all",-1),v=n("p",null,"Should you want to tamper with the Vite config for UI in /src:",-1),b=n("pre",{class:"doc-code"},[n("code",null,[e("module"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function-variable function"},"exports"),e(),n("span",{class:"token operator"},"="),e(),n("span",{class:"token keyword"},"function"),e(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ctx"),n("span",{class:"token punctuation"},")"),e(),n("span",{class:"token punctuation"},"{"),e(`
  `),n("span",{class:"token keyword"},"return"),e(),n("span",{class:"token punctuation"},"{"),e(`
    `),n("span",{class:"token literal-property property"},"build"),n("span",{class:"token operator"},":"),e(),n("span",{class:"token punctuation"},"{"),e(`
      `),n("span",{class:"token function"},"extendViteConf"),e(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"viteConf"),n("span",{class:"token punctuation"},")"),e(),n("span",{class:"token punctuation"},"{"),e(`
        `),n("span",{class:"token keyword"},"if"),e(),n("span",{class:"token punctuation"},"("),e("ctx"),n("span",{class:"token punctuation"},"."),e("mode"),n("span",{class:"token punctuation"},"."),e("bex"),n("span",{class:"token punctuation"},")"),e(),n("span",{class:"token punctuation"},"{"),e(`
          `),n("span",{class:"token comment"},"// do something with ViteConf"),e(`
        `),n("span",{class:"token punctuation"},"}"),e(`
      `),n("span",{class:"token punctuation"},"}"),e(`
    `),n("span",{class:"token punctuation"},"}"),e(`
  `),n("span",{class:"token punctuation"},"}"),e(`
`),n("span",{class:"token punctuation"},"}")])],-1),y=n("p",null,[e("The UI files will be injected and available as "),n("code",{class:"doc-token"},"www"),e(" folder when you build (or develop) the browser extension.")],-1),x=n("code",{class:"doc-token"},"/src-bex/manifest.json",-1),B=n("p",null,"When you first add the BEX mode, you will get asked which Browser Extension Manifest version you like:",-1),C=n("pre",{class:"doc-code"},[n("code",null,`? What version of manifest would you like? (Use arrow keys)
❯ Manifest v2 (works with both Chrome and FF)
  Manifest v3 (works with Chrome only currently)`)],-1),E=n("p",null,"In summary:",-1),I=n("ul",null,[n("li",null,[n("strong",null,"Background Script"),e(" - runs in the context of the BEX itself and can listen to all available browser extension events. There will only ever be one instance of each background script "),n("em",null,"per BEX"),e(".")]),n("li",null,[n("strong",null,"Content Script"),e(" - runs in the context of the web page. There will be a new content script instance per tab running the extension.")])],-1),S=n("div",{class:"doc-note doc-note--tip"},[n("p",{class:"doc-note__title"},"TIP"),n("p",null,[e("Given content scripts run in the web page context, this means that only BEX’s that interact with a web page can use content scripts. Popups, Options and Devtools "),n("strong",null,"will not"),e(" have a "),n("em",null,"content script"),e(" running behind them. They will all however have a "),n("em",null,"background script"),e(".")])],-1),j={class:"doc-note doc-note--warning"},X=n("p",{class:"doc-note__title"},"WARNING",-1),A=n("p",null,[e("Any styles you want to be made available to your web page (not your Quasar App) should be included in "),n("code",{class:"doc-token"},"src-bex/assets/content.css"),e(" as this file ia automatically injected into the "),n("code",{class:"doc-token"},"manifest.json"),e(" file.")],-1),T=n("div",{class:"doc-note doc-note--warning"},[n("p",{class:"doc-note__title"},"WARNING"),n("p",null,"This must be native CSS as it’s not preprocessed via Sass.")],-1),V={__name:"configuring-bex",setup(q){const d=[{id:"ui-in-src",title:"2. UI in /src"},{id:"manifest-json",title:"3. Manifest.json"},{id:"background-and-content-scripts",title:"4. Background And Content Scripts"},{id:"css",title:"5. CSS"}];return(D,s)=>(f(),m(p,{title:"Configuring BEX",desc:"(@quasar/app-vite) How to manage your Browser Extensions with Quasar CLI.",overline:"Quasar CLI with Vite - @quasar/app-vite",heading:"","edit-link":"quasar-cli-vite/developing-browser-extensions/configuring-bex",toc:d},{default:o(()=>[w,n("ol",null,[k,n("li",null,[e("Runs in the "),t(a,{to:"https://developer.chrome.com/docs/extensions/how-to/devtools/extend-devtools"},{default:o(()=>[e("Developer Tools")]),_:1}),e(" window.")]),n("li",null,[e("Runs in a "),t(a,{to:"https://developer.chrome.com/docs/extensions/develop/ui#popups"},{default:o(()=>[e("Popup")]),_:1}),e(" window.")]),n("li",null,[e("Runs as "),t(a,{to:"https://developer.chrome.com/docs/extensions/develop/ui/options-page"},{default:o(()=>[e("Options")]),_:1}),e(" window.")]),_]),n("p",null,[e("You do not need a new Quasar App per BEX type above as a single Quasar Application can run in "),g,e(" of the instances above. You can find out more about these in the "),t(a,{to:"/quasar-cli-vite/developing-browser-extensions/types-of-bex"},{default:o(()=>[e("types section")]),_:1}),e(".")]),n("h2",{id:"ui-in-src",class:"doc-heading doc-h2",onClick:s[0]||(s[0]=l=>i(c)("ui-in-src"))},"UI in /src"),v,t(i(r),{title:"/quasar.config file"},{default:o(()=>[b,t(u)]),_:1}),y,n("h2",{id:"manifest-json",class:"doc-heading doc-h2",onClick:s[1]||(s[1]=l=>i(c)("manifest-json"))},"Manifest.json"),n("p",null,[e("The most important config file for your BEX is "),x,e(". It is recommended that you "),t(a,{to:"https://developer.chrome.com/extensions/manifest"},{default:o(()=>[e("read up on this file")]),_:1}),e(" before starting your project.")]),B,t(i(r),null,{default:o(()=>[C,t(u)]),_:1}),n("h2",{id:"background-and-content-scripts",class:"doc-heading doc-h2",onClick:s[2]||(s[2]=l=>i(c)("background-and-content-scripts"))},"Background And Content Scripts"),n("p",null,[e("Behind every BEX is a "),t(a,{to:"https://developer.chrome.com/extensions/content_scripts"},{default:o(()=>[e("content script")]),_:1}),e(" and a background script / service-worker. It’s a good idea to understand what each of these are before writing your first BEX.")]),E,I,S,n("div",j,[X,n("p",null,[e("Service worker which is available in "),t(a,{to:"https://developer.chrome.com/docs/extensions/mv3/intro/"},{default:o(()=>[e("Manifest v3")]),_:1}),e(", is implemented in Quasar CLI with Vite only. More details "),t(a,{to:"https://github.com/quasarframework/quasar/discussions/8844"},{default:o(()=>[e("here")]),_:1}),e(".")])]),n("h2",{id:"css",class:"doc-heading doc-h2",onClick:s[3]||(s[3]=l=>i(c)("css"))},"CSS"),A,T]),_:1}))}},L=h(V,[["__file","configuring-bex.md"]]);export{L as default};
